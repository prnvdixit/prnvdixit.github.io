var showdownConvertor,postShareableLink,postInYear=new Map;function openImageInEnlargedScreen(e){setTimeout(()=>{e.style.transform="scale(2.2)",e.style.transition="transform 0.25s ease"},50),document.body.addEventListener("click",function(){closeAllImagesInEnlargedScreen(e)})}function closeAllImagesInEnlargedScreen(e){e.style.transform="scale(1)",e.style.transition="transform 0.25s ease"}function addCustomClassNames(e){return e=e.replaceAll("<a href",'<a class="content-link" target="_blank" href').replaceAll(/<img src=(.*) alt=(.*)\/>/g,'<img class="blog-image" onClick=openImageInEnlargedScreen(this) src=$1 alt=$2/>')}function showTagList(){localStorage.setItem("showTagList","true")}function readAndProcessBlogFile(){var e,t,n,a=localStorage.year,o=localStorage.month,l=localStorage.day;new Map(JSON.parse(localStorage.getItem("postInYear"))).forEach((s,r,i)=>{parseInt(r)===parseInt(a)&&s.forEach(s=>{parseInt(s.month)===parseInt(o)&&parseInt(s.day)===parseInt(l)&&(e=s.title,t=s.tags,a=r,o=s.month,l=s.day,n=s.link)})});var s=new XMLHttpRequest;s.onreadystatechange=function(){var n=s.responseText;if(4===s.readyState&&200===s.status){var r=showdownConvertor.makeHtml(n);r=addCustomClassNames(r),document.getElementById("blog-content").innerHTML=r;var i="ðŸ“… {day}.{month}.{year}";i=i.replace("{day}",l).replace("{month}",getMonthAsName(o)).replace("{year}",a),document.getElementById("blog-date").innerHTML=showdownConvertor.makeHtml(i);var c=n.split(" ").length,m="ðŸ“š {words} words";m=m.replace("{words}",c),document.getElementById("blog-length").innerHTML=showdownConvertor.makeHtml(m);var d=Math.ceil(c/275+12*document.getElementsByClassName("blog-image").length/60),g=d>1?"ðŸ•” {minutes} minutes":"ðŸ•” {minutes} minute";g=g.replace("{minutes}",d),document.getElementById("blog-read-time").innerHTML=showdownConvertor.makeHtml(g);var p="ðŸ“Œ {tagList}",h=[];t=t.forEach(e=>{h.push(e.replaceAll(/#(.*)/g,"[#$1](./blog-list.html){:onclick='localStorage.setItem('showTagList', '#$1')'}"))});var u=h.join(" ");p=p.replace("{tagList}",u);var y=showdownConvertor.makeHtml(p);y=y.replaceAll("<a href",'<a class="blog-tag-button" href'),document.getElementById("blog-tags").innerHTML=y,document.getElementById("blog-title").innerHTML=showdownConvertor.makeHtml(e)}else 4===s.readyState&&setLink(null)};var r="{year}-{month}-{day}-{title}.md",i=e.toLowerCase().split(" ").join("-");r=r.replace("{year}",a).replace("{month}",o).replace("{day}",l).replace("{title}",i),s.open("GET",r,!0),s.send(null),window.addEventListener("load",function(){setLink(n)})}function copyLink(){let e=postShareableLink;null===e&&(e="myProfile"),navigator.clipboard.writeText(e)}function setLink(e){postShareableLink=e}class Popover{constructor(e,t){this.element=e,this.trigger=t,this._isOpen=!1,this.trigger.addEventListener("click",this.toggle.bind(this)),this.element.style.display="none"}toggle(e){e.stopPropagation(),this._isOpen?this.close(e):(this.element.style.display="block",this._isOpen=!0,setTimeout(()=>{this.close(e)},1e3))}close(e){this.element.style.display="none",this._isOpen=!1}}document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("popover"),t=document.querySelector("#popoverOpener a");new Popover(e,t)});
