(()=>{var e={84:(e,t,n)=>{const r=n(96).J,i=Math.PI/180,s={archimedean:m,rectangular:function(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}},o=2048;function a(e){return e.text}function l(){return"serif"}function c(){return"normal"}function u(e){return Math.sqrt(e.value)}function h(){return 30*(~~(6*random())-3)}function p(){return 1}function f(e,t,n,r){if(!t.sprite){var s=e.context,a=e.ratio;s.clearRect(0,0,2048/a,o/a);var l=0,c=0,u=0,h=n.length;for(--r;++r<h;){t=n[r],s.save(),s.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font;const e=s.measureText(t.text),h=-Math.floor(e.width/2);let y=(e.width+1)*a,b=t.size<<1;if(t.rotate){var p=Math.sin(t.rotate*i),f=Math.cos(t.rotate*i),d=y*f,g=y*p,m=b*f,w=b*p;y=Math.max(Math.abs(d+w),Math.abs(d-w))+31>>5<<5,b=~~Math.max(Math.abs(g+m),Math.abs(g-m))}else y=y+31>>5<<5;if(b>u&&(u=b),l+y>=2048&&(l=0,c+=u,u=0),c+b>=o)break;s.translate((l+(y>>1))/a,(c+(b>>1))/a),t.rotate&&s.rotate(t.rotate*i),s.fillText(t.text,h,0),t.padding&&(s.lineWidth=2*t.padding,s.strokeText(t.text,h,0)),s.restore(),t.width=y,t.height=b,t.xoff=l,t.yoff=c,t.x1=y>>1,t.y1=b>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,l+=y}for(var y=s.getImageData(0,0,2048/a,o/a).data,b=[];--r>=0;)if((t=n[r]).hasText){for(var k=t.width,v=k>>5,x=t.y1-t.y0,_=0;_<x*v;_++)b[_]=0;if(null==(l=t.xoff))return;c=t.yoff;for(var $=0,T=-1,S=0;S<x;S++){for(_=0;_<k;_++){var E=v*S+(_>>5),A=y[2048*(c+S)+(l+_)<<2]?1<<31-_%32:0;b[E]|=A,$|=A}$?T=S:(t.y0++,x--,S--,c++)}t.y1=t.y0+T,t.sprite=b.slice(0,(t.y1-t.y0)*v)}}}function d(e,t,n){n>>=5;for(var r,i=e.sprite,s=e.width>>5,o=e.x-(s<<4),a=127&o,l=32-a,c=e.y1-e.y0,u=(e.y+e.y0)*n+(o>>5),h=0;h<c;h++){r=0;for(var p=0;p<=s;p++)if((r<<l|(p<s?(r=i[h*s+p])>>>a:0))&t[u+p])return!0;u+=n}return!1}function g(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function m(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function w(){return document.createElement("canvas")}function y(e){return"function"==typeof e?e:function(){return e}}e.exports=function(){var e=[256,256],t=a,n=l,i=u,b=c,k=c,v=h,x=p,_=m,$=[],T=1/0,S=r("word","end"),E=null,A=Math.random,L={},C=w;function z(t,n,r){e[0],e[1];for(var i,s,o,a,l,c=n.x,u=n.y,h=Math.sqrt(e[0]*e[0]+e[1]*e[1]),p=_(e),f=A()<.5?1:-1,g=-f;(i=p(g+=f))&&(s=~~i[0],o=~~i[1],!(Math.min(Math.abs(s),Math.abs(o))>=h));)if(n.x=c+s,n.y=u+o,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>e[0]||n.y+n.y1>e[1]||r&&(l=r,!((a=n).x+a.x1>l[0].x&&a.x+a.x0<l[1].x&&a.y+a.y1>l[0].y&&a.y+a.y0<l[1].y))||d(n,t,e[0]))){for(var m,w=n.sprite,y=n.width>>5,b=e[0]>>5,k=n.x-(y<<4),v=127&k,x=32-v,$=n.y1-n.y0,T=(n.y+n.y0)*b+(k>>5),S=0;S<$;S++){m=0;for(var E=0;E<=y;E++)t[T+E]|=m<<x|(E<y?(m=w[S*y+E])>>>v:0);T+=b}return!0}return!1}return L.canvas=function(e){return arguments.length?(C=y(e),L):C},L.start=function(){var r=function(e){const t=e.getContext("2d",{willReadFrequently:!0});e.width=e.height=1;const n=Math.sqrt(t.getImageData(0,0,1,1).data.length>>2);return e.width=2048/n,e.height=o/n,t.fillStyle=t.strokeStyle="red",{context:t,ratio:n}}(C()),s=function(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}((e[0]>>5)*e[1]),a=null,l=$.length,c=-1,u=[],h=$.map((function(e,r){return e.text=t.call(this,e,r),e.font=n.call(this,e,r),e.style=b.call(this,e,r),e.weight=k.call(this,e,r),e.rotate=v.call(this,e,r),e.size=~~i.call(this,e,r),e.padding=x.call(this,e,r),e})).sort((function(e,t){return t.size-e.size}));return E&&clearInterval(E),E=setInterval(p,0),p(),L;function p(){for(var t=Date.now();Date.now()-t<T&&++c<l&&E;){var n=h[c];n.x=e[0]*(A()+.5)>>1,n.y=e[1]*(A()+.5)>>1,f(r,n,h,c),n.hasText&&z(s,n,a)&&(u.push(n),S.call("word",L,n),a?g(a,n):a=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=e[0]>>1,n.y-=e[1]>>1)}c>=l&&(L.stop(),S.call("end",L,u,a))}},L.stop=function(){E&&(clearInterval(E),E=null);for(const e of $)delete e.sprite;return L},L.timeInterval=function(e){return arguments.length?(T=null==e?1/0:e,L):T},L.words=function(e){return arguments.length?($=e,L):$},L.size=function(t){return arguments.length?(e=[+t[0],+t[1]],L):e},L.font=function(e){return arguments.length?(n=y(e),L):n},L.fontStyle=function(e){return arguments.length?(b=y(e),L):b},L.fontWeight=function(e){return arguments.length?(k=y(e),L):k},L.rotate=function(e){return arguments.length?(v=y(e),L):v},L.text=function(e){return arguments.length?(t=y(e),L):t},L.spiral=function(e){return arguments.length?(_=s[e]||e,L):_},L.fontSize=function(e){return arguments.length?(i=y(e),L):i},L.padding=function(e){return arguments.length?(x=y(e),L):x},L.random=function(e){return arguments.length?(A=e,L):A},L.on=function(){var e=S.on.apply(S,arguments);return e===S?L:e},L}},96:(e,t,n)=>{"use strict";n.d(t,{J:()=>l});var r={value:function(){}};function i(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new s(r)}function s(e){this._=e}function o(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function a(e,t,n){for(var i=0,s=e.length;i<s;++i)if(e[i].name===t){e[i]=r,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}s.prototype=i.prototype={constructor:s,on:function(e,t){var n,r,i=this._,s=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),l=-1,c=s.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++l<c;)if(n=(e=s[l]).type)i[n]=a(i[n],e.name,t);else if(null==t)for(n in i)i[n]=a(i[n],e.name,null);return this}for(;++l<c;)if((n=(e=s[l]).type)&&(n=o(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new s(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),s=0;s<n;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=0,n=(r=this._[e]).length;s<n;++s)r[s].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};const l=i}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";class e{constructor(e){Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.params=e}static create(e){return new this(e)}}class t{constructor(e){Object.defineProperty(this,"routes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.routes=e}parseParams(e,t){const n=e.path.split("/"),r=t.split("/");if(n.length!==r.length)return null;const i={};for(let e=0;e<n.length;e++)if(n[e].startsWith(":"))i[n[e].slice(1)]=r[e];else if(n[e]!==r[e])return null;return i}match(e){for(const t of this.routes){const n=this.parseParams(t,e);if(null!==n)return{route:t,params:n}}return null}async route(){const e=window.location.pathname,t=this.match(e);if(!t)return void(document.querySelector("#app").innerHTML="<h1>404 - Page Not Found</h1>");const n=t.route.view.create(t.params),r=await n.render(),i=document.querySelector("#app");i.innerHTML="",i.appendChild(r),window.scrollTo(0,0)}}class r extends e{render(){const e=document.createElement("div");return e.classList.add("home-page"),e.innerHTML='\n            <div class="container">\n                <h1>Welcome</h1>\n                <p>encipherer\'s whispers!</p>\n            </div>\n        ',e}}let i={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function s(e){i=e}const o=/[&<>"']/,a=new RegExp(o.source,"g"),l=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,c=new RegExp(l.source,"g"),u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h=e=>u[e];function p(e,t){if(t){if(o.test(e))return e.replace(a,h)}else if(l.test(e))return e.replace(c,h);return e}const f=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;const d=/(^|[^\[])\^/g;function g(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,r)=>(r=(r="object"==typeof r&&"source"in r?r.source:r).replace(d,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n}function m(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return null}return e}const w={exec:()=>null};function y(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function b(e,t,n){const r=e.length;if(0===r)return"";let i=0;for(;i<r;){const s=e.charAt(r-i-1);if(s!==t||n){if(s===t||!n)break;i++}else i++}return e.slice(0,r-i)}function k(e,t,n,r){const i=t.href,s=t.title?p(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:i,title:s,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:i,title:s,text:p(o)}}class v{options;rules;lexer;constructor(e){this.options=e||i}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:b(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=b(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=b(t[0].replace(/^ *>[ \t]?/gm,""),"\n"),n=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:r,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let o="",a="",l=!1;for(;e;){let n=!1;if(!(t=s.exec(e)))break;if(this.rules.block.hr.test(e))break;o=t[0],e=e.substring(o.length);let r=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],u=0;this.options.pedantic?(u=2,a=r.trimStart()):(u=t[2].search(/[^ ]/),u=u>4?1:u,a=r.slice(u),u+=t[1].length);let h=!1;if(!r&&/^ *$/.test(c)&&(o+=c+"\n",e=e.substring(c.length+1),n=!0),!n){const t=new RegExp(`^ {0,${Math.min(3,u-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),n=new RegExp(`^ {0,${Math.min(3,u-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),i=new RegExp(`^ {0,${Math.min(3,u-1)}}(?:\`\`\`|~~~)`),s=new RegExp(`^ {0,${Math.min(3,u-1)}}#`);for(;e;){const l=e.split("\n",1)[0];if(c=l,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),i.test(c))break;if(s.test(c))break;if(t.test(c))break;if(n.test(e))break;if(c.search(/[^ ]/)>=u||!c.trim())a+="\n"+c.slice(u);else{if(h)break;if(r.search(/[^ ]/)>=4)break;if(i.test(r))break;if(s.test(r))break;if(n.test(r))break;a+="\n"+c}h||c.trim()||(h=!0),o+=l+"\n",e=e.substring(l.length+1),r=c.slice(u)}}i.loose||(l?i.loose=!0:/\n *\n *$/.test(o)&&(l=!0));let p,f=null;this.options.gfm&&(f=/^\[[ xX]\] /.exec(a),f&&(p="[ ] "!==f[0],a=a.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:o,task:!!f,checked:p,loose:!1,text:a,tokens:[]}),i.raw+=o}i.items[i.items.length-1].raw=o.trimEnd(),i.items[i.items.length-1].text=a.trimEnd(),i.raw=i.raw.trimEnd();for(let e=0;e<i.items.length;e++)if(this.lexer.state.top=!1,i.items[e].tokens=this.lexer.blockTokens(i.items[e].text,[]),!i.loose){const t=i.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>/\n.*\n/.test(e.raw)));i.loose=n}if(i.loose)for(let e=0;e<i.items.length;e++)i.items[e].loose=!0;return i}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(t){if(!/[:|]/.test(t[2]))return;const e={type:"table",raw:t[0],header:y(t[1]).map((e=>({text:e,tokens:[]}))),align:t[2].replace(/^\||\| *$/g,"").split("|"),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){let t,n,r,i,s=e.align.length;for(t=0;t<s;t++){const n=e.align[t];n&&(/^ *-+: *$/.test(n)?e.align[t]="right":/^ *:-+: *$/.test(n)?e.align[t]="center":/^ *:-+ *$/.test(n)?e.align[t]="left":e.align[t]=null)}for(s=e.rows.length,t=0;t<s;t++)e.rows[t]=y(e.rows[t],e.header.length).map((e=>({text:e,tokens:[]})));for(s=e.header.length,n=0;n<s;n++)e.header[n].tokens=this.lexer.inline(e.header[n].text);for(s=e.rows.length,n=0;n<s;n++)for(i=e.rows[n],r=0;r<i.length;r++)i[r].tokens=this.lexer.inline(i[r].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:p(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=b(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),k(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return k(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(r&&(!r[3]||!n.match(/[\p{L}\p{N}]/u))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){const n=[...r[0]].length-1;let i,s,o=n,a=0;const l="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=l.exec(t));){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(s=[...i].length,r[3]||r[4]){o+=s;continue}if((r[5]||r[6])&&n%3&&!((n+s)%3)){a+=s;continue}if(o-=s,o>0)continue;s=Math.min(s,s+o+a);const t=[...r[0]][0].length,l=e.slice(0,n+r.index+t+s);if(Math.min(n,s)%2){const e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}const c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=p(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=p(t[1]),n="mailto:"+e):(e=p(t[1]),n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=p(t[0]),n="mailto:"+e;else{let r;do{r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0]}while(r!==t[0]);e=p(t[0]),n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let e;return e=this.lexer.state.inRawBlock?t[0]:p(t[0]),{type:"text",raw:t[0],text:e}}}}const x={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:w,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};x.def=g(x.def).replace("label",x._label).replace("title",x._title).getRegex(),x.bullet=/(?:[*+-]|\d{1,9}[.)])/,x.listItemStart=g(/^( *)(bull) */).replace("bull",x.bullet).getRegex(),x.list=g(x.list).replace(/bull/g,x.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+x.def.source+")").getRegex(),x._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",x._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,x.html=g(x.html,"i").replace("comment",x._comment).replace("tag",x._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),x.lheading=g(x.lheading).replace(/bull/g,x.bullet).getRegex(),x.paragraph=g(x._paragraph).replace("hr",x.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex(),x.blockquote=g(x.blockquote).replace("paragraph",x.paragraph).getRegex(),x.normal={...x},x.gfm={...x.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},x.gfm.table=g(x.gfm.table).replace("hr",x.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex(),x.gfm.paragraph=g(x._paragraph).replace("hr",x.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",x.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex(),x.pedantic={...x.normal,html:g("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",x._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:w,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:g(x.normal._paragraph).replace("hr",x.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",x.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const _={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:w,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:w,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};_.punctuation=g(_.punctuation,"u").replace(/punctuation/g,_._punctuation).getRegex(),_.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,_.anyPunctuation=/\\[punct]/g,_._escapes=/\\([punct])/g,_._comment=g(x._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),_.emStrong.lDelim=g(_.emStrong.lDelim,"u").replace(/punct/g,_._punctuation).getRegex(),_.emStrong.rDelimAst=g(_.emStrong.rDelimAst,"gu").replace(/punct/g,_._punctuation).getRegex(),_.emStrong.rDelimUnd=g(_.emStrong.rDelimUnd,"gu").replace(/punct/g,_._punctuation).getRegex(),_.anyPunctuation=g(_.anyPunctuation,"gu").replace(/punct/g,_._punctuation).getRegex(),_._escapes=g(_._escapes,"gu").replace(/punct/g,_._punctuation).getRegex(),_._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,_._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,_.autolink=g(_.autolink).replace("scheme",_._scheme).replace("email",_._email).getRegex(),_._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,_.tag=g(_.tag).replace("comment",_._comment).replace("attribute",_._attribute).getRegex(),_._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,_._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,_._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,_.link=g(_.link).replace("label",_._label).replace("href",_._href).replace("title",_._title).getRegex(),_.reflink=g(_.reflink).replace("label",_._label).replace("ref",x._label).getRegex(),_.nolink=g(_.nolink).replace("ref",x._label).getRegex(),_.reflinkSearch=g(_.reflinkSearch,"g").replace("reflink",_.reflink).replace("nolink",_.nolink).getRegex(),_.normal={..._},_.pedantic={..._.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:g(/^!?\[(label)\]\((.*?)\)/).replace("label",_._label).getRegex(),reflink:g(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_._label).getRegex()},_.gfm={..._.normal,escape:g(_.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},_.gfm.url=g(_.gfm.url,"i").replace("email",_.gfm._extended_email).getRegex(),_.breaks={..._.gfm,br:g(_.br).replace("{2,}","*").getRegex(),text:g(_.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class ${tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||i,this.options.tokenizer=this.options.tokenizer||new v,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:x.normal,inline:_.normal};this.options.pedantic?(t.block=x.pedantic,t.inline=_.pedantic):this.options.gfm&&(t.block=x.gfm,this.options.breaks?t.inline=_.breaks:t.inline=_.gfm),this.tokenizer.rules=t}static get rules(){return{block:x,inline:_}}static lex(e,t){return new $(t).lex(e)}static lexInline(e,t){return new $(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,r,i,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(i=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i)))r=t[t.length-1],s&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),s=i.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,i,s,o,a,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.anyPunctuation.exec(l));)l=l.slice(0,s.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(o||(a=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,a))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e))){if(i=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(i))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),o=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class T{options;constructor(e){this.options=e||i}code(e,t,n){const r=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="language-'+p(r)+'">'+(n?e:p(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:p(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,n){return`<h${t}>${e}</h${t}>\n`}hr(){return"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e,t,n){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){const r=m(e);if(null===r)return n;let i='<a href="'+(e=r)+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>",i}image(e,t,n){const r=m(e);if(null===r)return n;let i=`<img src="${e=r}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=">",i}text(e){return e}}class S{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class E{options;renderer;textRenderer;constructor(e){this.options=e||i,this.options.renderer=this.options.renderer||new T,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new S}static parse(e,t){return new E(t).parse(e)}static parseInline(e,t){return new E(t).parseInline(e)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const e=i,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}switch(i.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const e=i;n+=this.renderer.heading(this.parseInline(e.tokens),e.depth,this.parseInline(e.tokens,this.textRenderer).replace(f,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")));continue}case"code":{const e=i;n+=this.renderer.code(e.text,e.lang,!!e.escaped);continue}case"table":{const e=i;let t="",r="";for(let t=0;t<e.header.length;t++)r+=this.renderer.tablecell(this.parseInline(e.header[t].tokens),{header:!0,align:e.align[t]});t+=this.renderer.tablerow(r);let s="";for(let t=0;t<e.rows.length;t++){const n=e.rows[t];r="";for(let t=0;t<n.length;t++)r+=this.renderer.tablecell(this.parseInline(n[t].tokens),{header:!1,align:e.align[t]});s+=this.renderer.tablerow(r)}n+=this.renderer.table(t,s);continue}case"blockquote":{const e=i,t=this.parse(e.tokens);n+=this.renderer.blockquote(t);continue}case"list":{const e=i,t=e.ordered,r=e.start,s=e.loose;let o="";for(let t=0;t<e.items.length;t++){const n=e.items[t],r=n.checked,i=n.task;let a="";if(n.task){const e=this.renderer.checkbox(!!r);s?n.tokens.length>0&&"paragraph"===n.tokens[0].type?(n.tokens[0].text=e+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&"text"===n.tokens[0].tokens[0].type&&(n.tokens[0].tokens[0].text=e+" "+n.tokens[0].tokens[0].text)):n.tokens.unshift({type:"text",text:e+" "}):a+=e+" "}a+=this.parse(n.tokens,s),o+=this.renderer.listitem(a,i,!!r)}n+=this.renderer.list(o,t,r);continue}case"html":{const e=i;n+=this.renderer.html(e.text,e.block);continue}case"paragraph":{const e=i;n+=this.renderer.paragraph(this.parseInline(e.tokens));continue}case"text":{let s=i,o=s.tokens?this.parseInline(s.tokens):s.text;for(;r+1<e.length&&"text"===e[r+1].type;)s=e[++r],o+="\n"+(s.tokens?this.parseInline(s.tokens):s.text);n+=t?this.renderer.paragraph(o):o;continue}default:{const e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const e=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=e||"";continue}}switch(i.type){case"escape":{const e=i;n+=t.text(e.text);break}case"html":{const e=i;n+=t.html(e.text);break}case"link":{const e=i;n+=t.link(e.href,e.title,this.parseInline(e.tokens,t));break}case"image":{const e=i;n+=t.image(e.href,e.title,e.text);break}case"strong":{const e=i;n+=t.strong(this.parseInline(e.tokens,t));break}case"em":{const e=i;n+=t.em(this.parseInline(e.tokens,t));break}case"codespan":{const e=i;n+=t.codespan(e.text);break}case"br":n+=t.br();break;case"del":{const e=i;n+=t.del(this.parseInline(e.tokens,t));break}case"text":{const e=i;n+=t.text(e.text);break}default:{const e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}}class A{options;constructor(e){this.options=e||i}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}const L=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#e($.lex,E.parse);parseInline=this.#e($.lexInline,E.parseInline);Parser=E;Renderer=T;TextRenderer=S;Lexer=$;Tokenizer=v;Hooks=A;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{const e=r;for(const r of e.header)n=n.concat(this.walkTokens(r.tokens,t));for(const r of e.rows)for(const e of r)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=r;n=n.concat(this.walkTokens(e.items,t));break}default:{const e=r;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((r=>{n=n.concat(this.walkTokens(e[r],t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new T(this.defaults);for(const n in e.renderer){const r=e.renderer[n],i=n,s=t[i];t[i]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=s.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new v(this.defaults);for(const n in e.tokenizer){const r=e.tokenizer[n],i=n,s=t[i];t[i]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=s.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new A;for(const n in e.hooks){const r=e.hooks[n],i=n,s=t[i];A.passThroughHooks.has(n)?t[i]=e=>{if(this.defaults.async)return Promise.resolve(r.call(t,e)).then((e=>s.call(t,e)));const n=r.call(t,e);return s.call(t,n)}:t[i]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=s.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return $.lex(e,t??this.defaults)}parser(e,t){return E.parse(e,t??this.defaults)}#e(e,t){return(n,r)=>{const i={...r},s={...this.defaults,...i};!0===this.defaults.async&&!1===i.async&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const o=this.#t(!!s.silent,!!s.async);if(null==n)return o(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then((t=>e(t,s))).then((e=>s.walkTokens?Promise.all(this.walkTokens(e,s.walkTokens)).then((()=>e)):e)).then((e=>t(e,s))).then((e=>s.hooks?s.hooks.postprocess(e):e)).catch(o);try{s.hooks&&(n=s.hooks.preprocess(n));const r=e(n,s);s.walkTokens&&this.walkTokens(r,s.walkTokens);let i=t(r,s);return s.hooks&&(i=s.hooks.postprocess(i)),i}catch(e){return o(e)}}}#t(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+p(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function C(e,t){return L.parse(e,t)}C.options=C.setOptions=function(e){return L.setOptions(e),C.defaults=L.defaults,s(C.defaults),C},C.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},C.defaults=i,C.use=function(...e){return L.use(...e),C.defaults=L.defaults,s(C.defaults),C},C.walkTokens=function(e,t){return L.walkTokens(e,t)},C.parseInline=L.parseInline,C.Parser=E,C.parser=E.parse,C.Renderer=T,C.TextRenderer=S,C.Lexer=$,C.lexer=$.lex,C.Tokenizer=v,C.Hooks=A,C.parse=C,C.options,C.setOptions,C.use,C.walkTokens,C.parseInline,E.parse,$.lex;class z{constructor(){Object.defineProperty(this,"notes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"initialized",{enumerable:!0,configurable:!0,writable:!0,value:!1})}static getInstance(){return z.instance||(z.instance=new z),z.instance}async initialize(){if(!this.initialized)try{const e=await fetch("/data/notes.json"),t=await e.json();this.notes=await Promise.all(t.notes.map((async e=>{try{const t=await fetch(`/data/${e.contentPath}`);if(!t.ok)throw new Error(`Failed to load content for note ${e.id}`);const n=await t.text();return{...e,content:n}}catch(t){return console.error(`Error loading content for note ${e.id}:`,t),{...e,content:"Content could not be loaded."}}}))),this.initialized=!0}catch(e){console.error("Error loading notes:",e),this.notes=[]}}getAllNotes(){return[...this.notes].filter((e=>!e.hidden)).sort(((e,t)=>new Date(t.publishDate).getTime()-new Date(e.publishDate).getTime()))}getNoteById(e){return this.notes.find((t=>t.id===e))}getNoteByBlogLink(e){return this.notes.find((t=>t.blogLink===e))}getUrlFromNote(e){return`note/${e.blogLink}`}async getNotesByTags(e){return await this.initialize(),this.notes.filter((t=>!t.hidden&&e.every((e=>t.tags.includes(e))))).sort(((e,t)=>new Date(t.publishDate).getTime()-new Date(e.publishDate).getTime()))}async getNotesByTag(e){return this.getNotesByTags([e])}getAdjacentNotes(e){const t=this.getAllNotes(),n=t.findIndex((t=>t.id===e.id));return{previous:n<t.length-1?t[n+1]:null,next:n>0?t[n-1]:null}}parseMarkdown(e){return C(e)}async getTagFrequencies(){await this.initialize();const e=new Map;return this.notes.filter((e=>!e.hidden)).forEach((t=>{t.tags?.forEach((t=>{e.set(t,(e.get(t)||0)+1)}))})),e}}function M(){}function N(e){return null==e?M:function(){return this.querySelector(e)}}function q(){return[]}function R(e){return null==e?q:function(){return this.querySelectorAll(e)}}function O(e){return function(){return this.matches(e)}}function I(e){return function(t){return t.matches(e)}}var D=Array.prototype.find;function P(){return this.firstElementChild}var B=Array.prototype.filter;function j(){return Array.from(this.children)}function H(e){return new Array(e.length)}function Z(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function V(e,t,n,r,i,s){for(var o,a=0,l=t.length,c=s.length;a<c;++a)(o=t[a])?(o.__data__=s[a],r[a]=o):n[a]=new Z(e,s[a]);for(;a<l;++a)(o=t[a])&&(i[a]=o)}function X(e,t,n,r,i,s,o){var a,l,c,u=new Map,h=t.length,p=s.length,f=new Array(h);for(a=0;a<h;++a)(l=t[a])&&(f[a]=c=o.call(l,l.__data__,a,t)+"",u.has(c)?i[a]=l:u.set(c,l));for(a=0;a<p;++a)c=o.call(e,s[a],a,s)+"",(l=u.get(c))?(r[a]=l,l.__data__=s[a],u.delete(c)):n[a]=new Z(e,s[a]);for(a=0;a<h;++a)(l=t[a])&&u.get(f[a])===l&&(i[a]=l)}function F(e){return e.__data__}function U(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Y(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Z.prototype={constructor:Z,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Q="http://www.w3.org/1999/xhtml";const W={svg:"http://www.w3.org/2000/svg",xhtml:Q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function K(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),W.hasOwnProperty(t)?{space:W[t],local:e}:e}function G(e){return function(){this.removeAttribute(e)}}function J(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ee(e,t){return function(){this.setAttribute(e,t)}}function te(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ne(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function re(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ie(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function se(e){return function(){this.style.removeProperty(e)}}function oe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ae(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function le(e,t){return e.style.getPropertyValue(t)||ie(e).getComputedStyle(e,null).getPropertyValue(t)}function ce(e){return function(){delete this[e]}}function ue(e,t){return function(){this[e]=t}}function he(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function pe(e){return e.trim().split(/^|\s+/)}function fe(e){return e.classList||new de(e)}function de(e){this._node=e,this._names=pe(e.getAttribute("class")||"")}function ge(e,t){for(var n=fe(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function me(e,t){for(var n=fe(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function we(e){return function(){ge(this,e)}}function ye(e){return function(){me(this,e)}}function be(e,t){return function(){(t.apply(this,arguments)?ge:me)(this,e)}}function ke(){this.textContent=""}function ve(e){return function(){this.textContent=e}}function xe(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function _e(){this.innerHTML=""}function $e(e){return function(){this.innerHTML=e}}function Te(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Se(){this.nextSibling&&this.parentNode.appendChild(this)}function Ee(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ae(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Q&&t.documentElement.namespaceURI===Q?t.createElement(e):t.createElementNS(n,e)}}function Le(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ce(e){var t=K(e);return(t.local?Le:Ae)(t)}function ze(){return null}function Me(){var e=this.parentNode;e&&e.removeChild(this)}function Ne(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Re(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,s=t.length;r<s;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Oe(e,t,n){return function(){var r,i=this.__on,s=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),void(r.value=t);this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},i?i.push(r):this.__on=[r]}}function Ie(e,t,n){var r=ie(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function De(e,t){return function(){return Ie(this,e,t)}}function Pe(e,t){return function(){return Ie(this,e,t.apply(this,arguments))}}de.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Be=[null];function je(e,t){this._groups=e,this._parents=t}function He(){return new je([[document.documentElement]],Be)}je.prototype=He.prototype={constructor:je,select:function(e){"function"!=typeof e&&(e=N(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s,o,a=t[i],l=a.length,c=r[i]=new Array(l),u=0;u<l;++u)(s=a[u])&&(o=e.call(s,s.__data__,u,a))&&("__data__"in s&&(o.__data__=s.__data__),c[u]=o);return new je(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}(e):R(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o,a=t[s],l=a.length,c=0;c<l;++c)(o=a[c])&&(r.push(e.call(o,o.__data__,c,a)),i.push(o));return new je(r,i)},selectChild:function(e){return this.select(null==e?P:function(e){return function(){return D.call(this.children,e)}}("function"==typeof e?e:I(e)))},selectChildren:function(e){return this.selectAll(null==e?j:function(e){return function(){return B.call(this.children,e)}}("function"==typeof e?e:I(e)))},filter:function(e){"function"!=typeof e&&(e=O(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s,o=t[i],a=o.length,l=r[i]=[],c=0;c<a;++c)(s=o[c])&&e.call(s,s.__data__,c,o)&&l.push(s);return new je(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,F);var n,r=t?X:V,i=this._parents,s=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var o=s.length,a=new Array(o),l=new Array(o),c=new Array(o),u=0;u<o;++u){var h=i[u],p=s[u],f=p.length,d=U(e.call(h,h&&h.__data__,u,i)),g=d.length,m=l[u]=new Array(g),w=a[u]=new Array(g);r(h,p,m,w,c[u]=new Array(f),d,t);for(var y,b,k=0,v=0;k<g;++k)if(y=m[k]){for(k>=v&&(v=k+1);!(b=w[v])&&++v<g;);y._next=b||null}}return(a=new je(a,i))._enter=l,a._exit=c,a},enter:function(){return new je(this._enter||this._groups.map(H),this._parents)},exit:function(){return new je(this._exit||this._groups.map(H),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,s=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?s.remove():n(s),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c,u=n[l],h=r[l],p=u.length,f=a[l]=new Array(p),d=0;d<p;++d)(c=u[d]||h[d])&&(f[d]=c);for(;l<i;++l)a[l]=n[l];return new je(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],s=i.length-1,o=i[s];--s>=0;)(r=i[s])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Y);for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o,a=n[s],l=a.length,c=i[s]=new Array(l),u=0;u<l;++u)(o=a[u])&&(c[u]=o);c.sort(t)}return new je(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,s=t[n],o=0,a=s.length;o<a;++o)(i=s[o])&&e.call(i,i.__data__,o,s);return this},attr:function(e,t){var n=K(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?J:G:"function"==typeof t?n.local?re:ne:n.local?te:ee)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?se:"function"==typeof t?ae:oe)(e,t,null==n?"":n)):le(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?ce:"function"==typeof t?he:ue)(e,t)):this.node()[e]},classed:function(e,t){var n=pe(e+"");if(arguments.length<2){for(var r=fe(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?be:t?we:ye)(n,t))},text:function(e){return arguments.length?this.each(null==e?ke:("function"==typeof e?xe:ve)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?_e:("function"==typeof e?Te:$e)(e)):this.node().innerHTML},raise:function(){return this.each(Se)},lower:function(){return this.each(Ee)},append:function(e){var t="function"==typeof e?e:Ce(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:Ce(e),r=null==t?ze:"function"==typeof t?t:N(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Me)},clone:function(e){return this.select(e?qe:Ne)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,s=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),o=s.length;if(!(arguments.length<2)){for(a=t?Oe:Re,r=0;r<o;++r)this.each(a(s[r],t,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(r=0,l=a[c];r<o;++r)if((i=s[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?Pe:De)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],s=0,o=i.length;s<o;++s)(r=i[s])&&(yield r)}};const Ze=He;var Ve={value:()=>{}};function Xe(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Fe(r)}function Fe(e){this._=e}function Ue(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function Ye(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Ve,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Fe.prototype=Xe.prototype={constructor:Fe,on:function(e,t){var n,r,i=this._,s=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),o=-1,a=s.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=s[o]).type)i[n]=Ye(i[n],e.name,t);else if(null==t)for(n in i)i[n]=Ye(i[n],e.name,null);return this}for(;++o<a;)if((n=(e=s[o]).type)&&(n=Ue(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Fe(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),s=0;s<n;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=0,n=(r=this._[e]).length;s<n;++s)r[s].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};const Qe=Xe;var We,Ke,Ge=0,Je=0,et=0,tt=0,nt=0,rt=0,it="object"==typeof performance&&performance.now?performance:Date,st="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ot(){return nt||(st(at),nt=it.now()+rt)}function at(){nt=0}function lt(){this._call=this._time=this._next=null}function ct(e,t,n){var r=new lt;return r.restart(e,t,n),r}function ut(){nt=(tt=it.now())+rt,Ge=Je=0;try{!function(){ot(),++Ge;for(var e,t=We;t;)(e=nt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ge}()}finally{Ge=0,function(){for(var e,t,n=We,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:We=t);Ke=e,pt(r)}(),nt=0}}function ht(){var e=it.now(),t=e-tt;t>1e3&&(rt-=t,tt=e)}function pt(e){Ge||(Je&&(Je=clearTimeout(Je)),e-nt>24?(e<1/0&&(Je=setTimeout(ut,e-it.now()-rt)),et&&(et=clearInterval(et))):(et||(tt=it.now(),et=setInterval(ht,1e3)),Ge=1,st(ut)))}function ft(e,t,n){var r=new lt;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}lt.prototype=ct.prototype={constructor:lt,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?ot():+n)+(null==t?0:+t),this._next||Ke===this||(Ke?Ke._next=this:We=this,Ke=this),this._call=e,this._time=n,pt()},stop:function(){this._call&&(this._call=null,this._time=1/0,pt())}};var dt=Qe("start","end","cancel","interrupt"),gt=[];function mt(e,t,n,r,i,s){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function s(l){var c,u,h,p;if(1!==n.state)return a();for(c in i)if((p=i[c]).name===n.name){if(3===p.state)return ft(s);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete i[c]):+c<t&&(p.state=6,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete i[c])}if(ft((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(l))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=p);r.length=u+1}}function o(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(a),n.state=5,1),s=-1,o=r.length;++s<o;)r[s].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=ct((function(e){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:i,on:dt,tween:gt,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function wt(e,t){var n=bt(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function yt(e,t){var n=bt(e,t);if(n.state>3)throw new Error("too late; already running");return n}function bt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function kt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var vt,xt=180/Math.PI,_t={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $t(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*xt,skewX:Math.atan(l)*xt,scaleX:o,scaleY:a}}function Tt(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(s,o){var a=[],l=[];return s=e(s),o=e(o),function(e,r,i,s,o,a){if(e!==i||r!==s){var l=o.push("translate(",null,t,null,n);a.push({i:l-4,x:kt(e,i)},{i:l-2,x:kt(r,s)})}else(i||s)&&o.push("translate("+i+t+s+n)}(s.translateX,s.translateY,o.translateX,o.translateY,a,l),function(e,t,n,s){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),s.push({i:n.push(i(n)+"rotate(",null,r)-2,x:kt(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(s.rotate,o.rotate,a,l),function(e,t,n,s){e!==t?s.push({i:n.push(i(n)+"skewX(",null,r)-2,x:kt(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(s.skewX,o.skewX,a,l),function(e,t,n,r,s,o){if(e!==n||t!==r){var a=s.push(i(s)+"scale(",null,",",null,")");o.push({i:a-4,x:kt(e,n)},{i:a-2,x:kt(t,r)})}else 1===n&&1===r||s.push(i(s)+"scale("+n+","+r+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,a,l),s=o=null,function(e){for(var t,n=-1,r=l.length;++n<r;)a[(t=l[n]).i]=t.x(e);return a.join("")}}}var St=Tt((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?_t:$t(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Et=Tt((function(e){return null==e?_t:(vt||(vt=document.createElementNS("http://www.w3.org/2000/svg","g")),vt.setAttribute("transform",e),(e=vt.transform.baseVal.consolidate())?$t((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):_t)}),", ",")",")");function At(e,t){var n,r;return function(){var i=yt(this,e),s=i.tween;if(s!==n)for(var o=0,a=(r=n=s).length;o<a;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function Lt(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var s=yt(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function Ct(e,t,n){var r=e._id;return e.each((function(){var e=yt(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return bt(e,r).value[t]}}function zt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Mt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Nt(){}var qt=.7,Rt=1/qt,Ot="\\s*([+-]?\\d+)\\s*",It="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pt=/^#([0-9a-f]{3,8})$/,Bt=new RegExp(`^rgb\\(${Ot},${Ot},${Ot}\\)$`),jt=new RegExp(`^rgb\\(${Dt},${Dt},${Dt}\\)$`),Ht=new RegExp(`^rgba\\(${Ot},${Ot},${Ot},${It}\\)$`),Zt=new RegExp(`^rgba\\(${Dt},${Dt},${Dt},${It}\\)$`),Vt=new RegExp(`^hsl\\(${It},${Dt},${Dt}\\)$`),Xt=new RegExp(`^hsla\\(${It},${Dt},${Dt},${It}\\)$`),Ft={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ut(){return this.rgb().formatHex()}function Yt(){return this.rgb().formatRgb()}function Qt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Pt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Wt(t):3===n?new Jt(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Kt(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Kt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Bt.exec(e))?new Jt(t[1],t[2],t[3],1):(t=jt.exec(e))?new Jt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Ht.exec(e))?Kt(t[1],t[2],t[3],t[4]):(t=Zt.exec(e))?Kt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Vt.exec(e))?on(t[1],t[2]/100,t[3]/100,1):(t=Xt.exec(e))?on(t[1],t[2]/100,t[3]/100,t[4]):Ft.hasOwnProperty(e)?Wt(Ft[e]):"transparent"===e?new Jt(NaN,NaN,NaN,0):null}function Wt(e){return new Jt(e>>16&255,e>>8&255,255&e,1)}function Kt(e,t,n,r){return r<=0&&(e=t=n=NaN),new Jt(e,t,n,r)}function Gt(e,t,n,r){return 1===arguments.length?((i=e)instanceof Nt||(i=Qt(i)),i?new Jt((i=i.rgb()).r,i.g,i.b,i.opacity):new Jt):new Jt(e,t,n,null==r?1:r);var i}function Jt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function en(){return`#${sn(this.r)}${sn(this.g)}${sn(this.b)}`}function tn(){const e=nn(this.opacity);return`${1===e?"rgb(":"rgba("}${rn(this.r)}, ${rn(this.g)}, ${rn(this.b)}${1===e?")":`, ${e})`}`}function nn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function rn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sn(e){return((e=rn(e))<16?"0":"")+e.toString(16)}function on(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ln(e,t,n,r)}function an(e){if(e instanceof ln)return new ln(e.h,e.s,e.l,e.opacity);if(e instanceof Nt||(e=Qt(e)),!e)return new ln;if(e instanceof ln)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(o=t===s?(n-r)/a+6*(n<r):n===s?(r-t)/a+2:(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new ln(o,a,l,e.opacity)}function ln(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function cn(e){return(e=(e||0)%360)<0?e+360:e}function un(e){return Math.max(0,Math.min(1,e||0))}function hn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function pn(e,t,n,r,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*n+(1+3*e+3*s-3*o)*r+o*i)/6}zt(Nt,Qt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ut,formatHex:Ut,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return an(this).formatHsl()},formatRgb:Yt,toString:Yt}),zt(Jt,Gt,Mt(Nt,{brighter(e){return e=null==e?Rt:Math.pow(Rt,e),new Jt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?qt:Math.pow(qt,e),new Jt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Jt(rn(this.r),rn(this.g),rn(this.b),nn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:en,formatHex:en,formatHex8:function(){return`#${sn(this.r)}${sn(this.g)}${sn(this.b)}${sn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:tn,toString:tn})),zt(ln,(function(e,t,n,r){return 1===arguments.length?an(e):new ln(e,t,n,null==r?1:r)}),Mt(Nt,{brighter(e){return e=null==e?Rt:Math.pow(Rt,e),new ln(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?qt:Math.pow(qt,e),new ln(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Jt(hn(e>=240?e-240:e+120,i,r),hn(e,i,r),hn(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ln(cn(this.h),un(this.s),un(this.l),nn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nn(this.opacity);return`${1===e?"hsl(":"hsla("}${cn(this.h)}, ${100*un(this.s)}%, ${100*un(this.l)}%${1===e?")":`, ${e})`}`}}));const fn=e=>()=>e;function dn(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):fn(isNaN(e)?t:e)}const gn=function e(t){var n=function(e){return 1==(e=+e)?dn:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):fn(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=Gt(e)).r,(t=Gt(t)).r),i=n(e.g,t.g),s=n(e.b,t.b),o=dn(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=s(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function mn(e){return function(t){var n,r,i=t.length,s=new Array(i),o=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=Gt(t[n]),s[n]=r.r||0,o[n]=r.g||0,a[n]=r.b||0;return s=e(s),o=e(o),a=e(a),r.opacity=1,function(e){return r.r=s(e),r.g=o(e),r.b=a(e),r+""}}}mn((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],s=e[r+1],o=r>0?e[r-1]:2*i-s,a=r<t-1?e[r+2]:2*s-i;return pn((n-r/t)*t,o,i,s,a)}})),mn((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],s=e[r%t],o=e[(r+1)%t],a=e[(r+2)%t];return pn((n-r/t)*t,i,s,o,a)}}));var wn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yn=new RegExp(wn.source,"g");function bn(e,t){var n,r,i,s=wn.lastIndex=yn.lastIndex=0,o=-1,a=[],l=[];for(e+="",t+="";(n=wn.exec(e))&&(r=yn.exec(t));)(i=r.index)>s&&(i=t.slice(s,i),a[o]?a[o]+=i:a[++o]=i),(n=n[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:kt(n,r)})),s=yn.lastIndex;return s<t.length&&(i=t.slice(s),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)a[(n=l[r]).i]=n.x(e);return a.join("")})}function kn(e,t){var n;return("number"==typeof t?kt:t instanceof Qt?gn:(n=Qt(t))?(t=n,gn):bn)(e,t)}function vn(e){return function(){this.removeAttribute(e)}}function xn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _n(e,t,n){var r,i,s=n+"";return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function $n(e,t,n){var r,i,s=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function Tn(e,t,n){var r,i,s;return function(){var o,a,l=n(this);if(null!=l)return(o=this.getAttribute(e))===(a=l+"")?null:o===r&&a===i?s:(i=a,s=t(r=o,l));this.removeAttribute(e)}}function Sn(e,t,n){var r,i,s;return function(){var o,a,l=n(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:o===r&&a===i?s:(i=a,s=t(r=o,l));this.removeAttributeNS(e.space,e.local)}}function En(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function An(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Ln(e,t){return function(){wt(this,e).delay=+t.apply(this,arguments)}}function Cn(e,t){return t=+t,function(){wt(this,e).delay=t}}function zn(e,t){return function(){yt(this,e).duration=+t.apply(this,arguments)}}function Mn(e,t){return t=+t,function(){yt(this,e).duration=t}}var Nn=Ze.prototype.constructor;function qn(e){return function(){this.style.removeProperty(e)}}var Rn=0;function On(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function In(){return++Rn}var Dn=Ze.prototype;On.prototype=function(e){return Ze().transition(e)}.prototype={constructor:On,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=N(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a,l,c=r[o],u=c.length,h=s[o]=new Array(u),p=0;p<u;++p)(a=c[p])&&(l=e.call(a,a.__data__,p,c))&&("__data__"in a&&(l.__data__=a.__data__),h[p]=l,mt(h[p],t,n,p,h,bt(a,n)));return new On(s,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=R(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l,c=r[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var p,f=e.call(l,l.__data__,h,c),d=bt(l,n),g=0,m=f.length;g<m;++g)(p=f[g])&&mt(p,t,n,g,f,d);s.push(f),o.push(l)}return new On(s,o,t,n)},selectChild:Dn.selectChild,selectChildren:Dn.selectChildren,filter:function(e){"function"!=typeof e&&(e=O(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s,o=t[i],a=o.length,l=r[i]=[],c=0;c<a;++c)(s=o[c])&&e.call(s,s.__data__,c,o)&&l.push(s);return new On(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l,c=t[a],u=n[a],h=c.length,p=o[a]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(p[f]=l);for(;a<r;++a)o[a]=t[a];return new On(o,this._parents,this._name,this._id)},selection:function(){return new Nn(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=In(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],l=a.length,c=0;c<l;++c)if(o=a[c]){var u=bt(o,t);mt(o,e,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new On(r,this._parents,e,n)},call:Dn.call,nodes:Dn.nodes,node:Dn.node,size:Dn.size,empty:Dn.empty,each:Dn.each,on:function(e,t){var n=this._id;return arguments.length<2?bt(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,s=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?wt:yt;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}(n,e,t))},attr:function(e,t){var n=K(e),r="transform"===n?Et:kn;return this.attrTween(e,"function"==typeof t?(n.local?Sn:Tn)(n,r,Ct(this,"attr."+e,t)):null==t?(n.local?xn:vn)(n):(n.local?$n:_n)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=K(e);return this.tween(n,(r.local?En:An)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?St:kn;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var s=le(this,e),o=(this.style.removeProperty(e),le(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}(e,r)).on("end.style."+e,qn(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,s;return function(){var o=le(this,e),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=le(this,e)),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}(e,r,Ct(this,"style."+e,t))).each(function(e,t){var n,r,i,s,o="style."+t,a="end."+o;return function(){var l=yt(this,e),c=l.on,u=null==l.value[o]?s||(s=qn(t)):void 0;c===n&&i===u||(r=(n=c).copy()).on(a,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,s=n+"";return function(){var o=le(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function s(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,s,n)),r}return s._value=t,s}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Ct(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=bt(this.node(),n).tween,s=0,o=i.length;s<o;++s)if((r=i[s]).name===e)return r.value;return null}return this.each((null==t?At:Lt)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Ln:Cn)(t,e)):bt(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?zn:Mn)(t,e)):bt(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){yt(this,e).ease=t}}(t,e)):bt(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;yt(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(s,o){var a={value:o},l={value:function(){0==--i&&s()}};n.each((function(){var n=yt(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),n.on=t})),0===i&&s()}))},[Symbol.iterator]:Dn[Symbol.iterator]};var Pn={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Bn(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}Ze.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,r,i,s=e.__transition,o=!0;if(s){for(i in t=null==t?null:t+"",s)(n=s[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete s[i]):o=!1;o&&delete e.__transition}}(this,e)}))},Ze.prototype.transition=function(e){var t,n;e instanceof On?(t=e._id,e=e._name):(t=In(),(n=Pn).time=ot(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],l=a.length,c=0;c<l;++c)(o=a[c])&&mt(o,e,t,c,a,n||Bn(o,t));return new On(r,this._parents,e,t)};const{abs:jn,max:Hn,min:Zn}=Math;function Vn(e){return{type:e}}["w","e"].map(Vn),["n","s"].map(Vn),["n","w","e","s","nw","ne","sw","se"].map(Vn);const Xn=function(e){for(var t=new Array(10),n=0;n<10;)t[n]="#"+e.slice(6*n,6*++n);return t}("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Fn(e){return"string"==typeof e?new je([[document.querySelector(e)]],[document.documentElement]):new je([[e]],Be)}function Un(e,t,n){this.k=e,this.x=t,this.y=n}Un.prototype={constructor:Un,scale:function(e){return 1===e?this:new Un(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Un(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Un(1,0,0),Un.prototype;var Yn=n(84),Qn=n.n(Yn);class Wn{constructor(e,t,n,r){Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onTagClick",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tagData",{enumerable:!0,configurable:!0,writable:!0,value:null}),this.container=e,this.width=t,this.height=n,this.onTagClick=r,window.addEventListener("resize",this.debounce((()=>{this.width=this.container.clientWidth,this.tagData&&this.render(this.tagData)}),250))}debounce(e,t){let n;return(...r)=>{clearTimeout(n),n=setTimeout((()=>e.apply(this,r)),t)}}async render(e){this.tagData=e,this.container.innerHTML="";const t=Array.from(e.entries()).sort(((e,t)=>t[1]-e[1])).slice(0,100).map((([e,t])=>({text:e,size:Math.min(8+6*t,40)})));Qn()().size([this.width,this.height]).words(t).padding(5).rotate((()=>0)).font("Arial").fontSize((e=>e.size||10)).on("end",(e=>this.draw(e))).start()}draw(e){const t=Fn(this.container).append("svg").attr("width",this.width).attr("height",this.height).append("g").attr("transform",`translate(${this.width/2},${this.height/2})`),n=this;t.selectAll("text").data(e).enter().append("text").style("font-size",(e=>`${e.size}px`)).style("font-family","Arial").style("cursor","pointer").style("fill",((e,t)=>Xn[t%10])).attr("text-anchor","middle").attr("transform",(e=>`translate(${e.x},${e.y})`)).each((function(e){const t=Fn(this);t.text(e.text),t.append("tspan").attr("dx","2").attr("dy","-0.6em").style("font-size","0.5em").text(n.tagData?.get(e.text)||0)})).on("click",((e,t)=>{e.preventDefault(),this.onTagClick(t.text)})).on("mouseover",(function(){Fn(this).style("opacity",.7)})).on("mouseout",(function(){Fn(this).style("opacity",1)}))}}class Kn extends e{constructor(e){super(e),Object.defineProperty(this,"noteService",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.noteService=z.getInstance()}createPinnedNoteCard(e){const t=this.createNoteCard(e);t.classList.add("pinned-note");const n=document.createElement("span");return n.classList.add("pin-icon"),n.textContent="📌",t.insertBefore(n,t.firstChild),t}createNoteCard(e){const t=document.createElement("div");return t.classList.add("note-card"),t.innerHTML=`\n      <h2><a href="/${this.noteService.getUrlFromNote(e)}" class="note-link" data-link>${e.title}</a></h2>\n      <div class="note-meta">\n        <div class="meta-top">\n          <span class="reading-time">⌛ ${e.readingTime}</span>\n          <span class="publish-date">🗓️ ${e.publishDate}</span>\n          ${e.githubLink?`<a href="${e.githubLink}" class="github-link" target="_blank" aria-label="View on GitHub"></a>`:""}\n          ${e.links&&e.links.length>0?e.links.map((e=>`<a href="${e.url}" class="external-link" target="_blank" aria-label="${e.description}">🔗 ${e.description}</a>`)).join(""):""}\n        </div>\n        <div class="note-tags">\n          ${(e.tags||[]).map((e=>`<a href="/tag/${e}" class="tag" data-link>${e}</a>`)).join("")}\n        </div>\n      </div>\n    `,t}setupCarousel(e,t){let n=0;const r=t.length,i=()=>{const t=100*-n,r=e.querySelector(".pinned-notes-container");r&&(r.style.transform=`translateX(${t}%)`),e.querySelectorAll(".carousel-dot").forEach(((e,t)=>{t===n?e.classList.add("active"):e.classList.remove("active")}))},s=()=>{n=(n+1)%r,i()};e.innerHTML=`\n      <div class="carousel-container">\n        <button class="carousel-arrow prev" aria-label="Previous note">❮</button>\n        <div class="pinned-notes-viewport">\n          <div class="pinned-notes-container">\n            ${t.map((e=>this.createPinnedNoteCard(e).outerHTML)).join("")}\n          </div>\n        </div>\n        <button class="carousel-arrow next" aria-label="Next note">❯</button>\n        <div class="carousel-dots">\n          ${t.map(((e,t)=>`<button class="carousel-dot${0===t?" active":""}" aria-label="Go to note ${t+1}"></button>`)).join("")}\n        </div>\n      </div>\n    `;const o=e.querySelector(".carousel-arrow.prev"),a=e.querySelector(".carousel-arrow.next"),l=e.querySelectorAll(".carousel-dot");o?.addEventListener("click",(()=>{n=(n-1+r)%r,i()})),a?.addEventListener("click",s),l.forEach(((e,t)=>{e.addEventListener("click",(()=>{n=t,i()}))}));let c=null;const u=()=>{c||(c=window.setInterval(s,5e3))},h=e.querySelector(".carousel-container");h?.addEventListener("mouseenter",(()=>{c&&(clearInterval(c),c=null)})),h?.addEventListener("mouseleave",u),u()}async render(){const e=document.createElement("div");e.classList.add("notes-page"),await this.noteService.initialize();const t=this.noteService.getAllNotes(),n=t.filter((e=>e.pinned));e.innerHTML=`\n      <div class="container">\n        <h1>Notes</h1>\n        <div class="tag-cloud-container">\n          <div class="loading">Loading tags...</div>\n        </div>\n        ${n.length>0?'<div class="pinned-notes-bar"></div>':""}\n        <div class="notes-grid"></div>\n        <button class="back-to-top" aria-label="Back to top">↑</button>\n      </div>\n    `;const r=e.querySelector(".pinned-notes-bar");r&&n.length>0&&this.setupCarousel(r,n);const i=e.querySelector(".notes-grid");t.forEach((e=>{i.appendChild(this.createNoteCard(e))}));const s=e.querySelector(".back-to-top");return s&&s.checkVisibility()&&(window.addEventListener("scroll",(()=>{window.scrollY>300?s.classList.add("visible"):s.classList.remove("visible")})),s.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))),setTimeout((async()=>{try{const t=e.querySelector(".tag-cloud-container");if(t&&t.checkVisibility()){const e=await this.noteService.getTagFrequencies(),n=new Wn(t,t.clientWidth,200,(e=>{window.location.href=`/tag/${e}`}));await n.render(e)}}catch(t){console.error("Error setting up tag cloud:",t);const n=e.querySelector(".tag-cloud-container");n&&(n.innerHTML='<div class="error">Failed to load tags</div>')}}),0),e}}class Gn extends e{constructor(e){super(e),Object.defineProperty(this,"noteService",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scrollVal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.noteService=z.getInstance(),this.scrollVal=500}async render(){const e=document.createElement("div");e.classList.add("note-page"),e.innerHTML='\n            <div class="container with-toc">\n                <a href="/notes" class="back-to-notes floating visible" data-link>← Back to all notes</a>\n                <div id="note-content"></div>\n            </div>\n        ';try{await this.noteService.initialize();const t=this.noteService.getNoteByBlogLink(this.params.dateid);if(!t){const t=e.querySelector("#note-content");return t&&(t.innerHTML="\n                        <h1>Note not found</h1>\n                        <p>The requested note could not be found. Please check the URL and try again.</p>\n                    "),e}const n=e.querySelector("#note-content");if(n){n.innerHTML=`\n                    <div class="note-header">\n                        <div class="note-header-top">\n                            <h1>${t.title}</h1>\n                        </div>\n                        <button class="copy-link-btn" onclick="copyNoteLink('${t.id}')">Copy Link</button>\n                            <div class="note-meta">\n                            <span class="reading-time">⌛ ${t.readingTime}</span>\n                            <span class="publish-date">🗓️ ${t.publishDate}</span>\n                            <div class="note-tags">\n                                ${t.tags.map((e=>`<a href="/tag/${e}" class="tag" data-link>${e}</a>`)).join("")}\n                            </div>\n                            ${t.githubLink?`<a href="${t.githubLink}" class="github-link" target="_blank" aria-label="View on GitHub"></a>`:""}\n                            ${t.links&&t.links.length>0?t.links.map((e=>`<a href="${e.url}" class="external-link" target="_blank" aria-label="${e.description}">🔗 ${e.description}</a>`)).join(""):""}\n                        </div>\n                    </div>\n                    <div class="note-content">\n                        ${this.noteService.parseMarkdown(t.content)}\n                    </div>\n                    <div class="note-navigation">\n                        ${(()=>{const e=this.noteService.getAdjacentNotes(t);return`\n                            ${e.previous?`\n                              <a href="/${this.noteService.getUrlFromNote(e.previous)}" class="nav-link prev" data-link>\n                                <span class="nav-label">← Previous</span>\n                                <span class="nav-title">${e.previous.title}</span>\n                              </a>\n                            `:""}\n                            ${e.next?`\n                              <a href="/${this.noteService.getUrlFromNote(e.next)}" class="nav-link next" data-link>\n                                <span class="nav-label">Next →</span>\n                                <span class="nav-title">${e.next.title}</span>\n                              </a>\n                            `:""}\n                          `})()} \n                    </div>\n                    \x3c!-- begin wwww.htmlcommentbox.com --\x3e\n                    <div id="HCB_comment_box" style="margin-top: 3rem;"></div>\n                    <link rel="stylesheet" type="text/css" href="https://www.htmlcommentbox.com/static/skins/bootstrap/twitter-bootstrap.css?v=0" />\n                    \x3c!-- end www.htmlcommentbox.com --\x3e\n                    <button class="back-to-top" aria-label="Back to top">↑</button>\n                `,this.setupTableOfContents(e),this.setupScrollListeners(e);const r=document.createElement("script");r.type="text/javascript",r.id="hcb";const i=window.location.toString().replace(/'/g,"%27");r.src=`https://www.htmlcommentbox.com/jread?page=${encodeURIComponent(i).replace("+","%2B")}&mod=%241%24wq1rdBcg%24KJMmEL71byVY1j2LJQUns0&opts=17310&num=10&ts=${Date.now()}`,r.onload=()=>{console.log("[HCB Debug] Comment box script loaded successfully"),document.querySelector("#HCB_comment_box")&&this.setupTableOfContents(e)},r.onerror=e=>{console.error("[HCB Debug] Error loading comment box script:",e)},document.head.appendChild(r),window.copyNoteLink=e=>{const t=this.noteService.getNoteById(e);if(t){const e=this.noteService.getUrlFromNote(t),n=window.location.origin+"/"+e;navigator.clipboard.writeText(n).then((()=>{const e=document.querySelector(".copy-link-btn");if(e){const t=e.textContent||"Copy Link";e.textContent="Copied!",setTimeout((()=>{e.textContent=t}),2e3)}})).catch((e=>console.error("Failed to copy:",e)))}}}return e}catch(t){console.error("Error loading note:",t);const n=e.querySelector("#note-content");return n&&(n.innerHTML="\n                    <h1>Error Loading Note</h1>\n                    <p>There was an error loading the note content. Please try again later.</p>\n                "),e}}extractHeadings(){console.log("[TOC Debug] Starting heading extraction");const e=[],t=document.querySelector(".note-header-top h1");if(t){const n=t.textContent||"",r=n.toLowerCase().replace(/[^\w]+/g,"-");t.id=r,e.push({level:1,text:n,id:r}),console.log(`[TOC Debug] Added note title: ${n}`)}const n=document.querySelector(".note-content");if(!n)return console.log("[TOC Debug] Note content element not found"),e;const r=n.querySelectorAll("h1, h2, h3, h4, h5, h6");return console.log(`[TOC Debug] Found ${r.length} heading elements`),r.forEach((t=>{const n=parseInt(t.tagName[1]),r=t.textContent||"",i=r.toLowerCase().replace(/[^\w]+/g,"-");t.id=i,e.push({level:n,text:r,id:i}),console.log(`[TOC Debug] Processed heading: Level ${n}, Text: "${r}", ID: ${i}`)})),document.querySelector("#HCB_comment_box")&&(e.push({level:1,text:"Comments",id:"HCB_comment_box"}),console.log("[TOC Debug] Added Comments section to TOC")),e}createTableOfContents(e){const t=document.createElement("div");t.classList.add("table-of-contents"),t.innerHTML="<h2>On This Page</h2>";const n=document.createElement("ul");n.classList.add("toc-list");let r=1,i=n,s=[n];return e.forEach((({level:e,text:t,id:n})=>{for(;e>r;){const e=document.createElement("ul");i.lastElementChild?.appendChild(e),s.push(e),i=e,r++}for(;e<r;)s.pop(),i=s[s.length-1],r--;const o=document.createElement("li");o.innerHTML=`<a href="#${n}" class="toc-link">${t}</a>`,i.appendChild(o)})),t.appendChild(n),t}setupTableOfContents(e){console.log("[TOC Debug] Starting TOC setup"),setTimeout((()=>{const t=this.extractHeadings();if(console.log("[TOC Debug] Extracted headings:",t),0===t.length)return void console.log("[TOC Debug] No headings found, skipping TOC creation");const n=this.createTableOfContents(t);console.log("[TOC Debug] Created TOC element:",n.innerHTML);const r=e.querySelector(".container.with-toc");if(!r)return void console.log("[TOC Debug] Container with class .container.with-toc not found");const i=r.querySelector("#note-content");i?(r.insertBefore(n,i),console.log("[TOC Debug] Successfully inserted TOC into DOM")):console.log("[TOC Debug] Note content element not found for TOC insertion"),n.querySelectorAll(".toc-link").forEach((e=>{const t=e.getAttribute("href")?.slice(1);if(t){const n=document.getElementById(t);n&&e.addEventListener("click",(e=>{e.preventDefault(),n.scrollIntoView({behavior:"smooth",block:"center"})}))}}));const s=new IntersectionObserver((e=>{const t=window.outerWidth>window.innerWidth,r=window.innerWidth<=768;if(t||r)return void s.disconnect();const i=e.filter((e=>e.isIntersecting));if(0===i.length)return;const o=i.sort(((e,t)=>Math.abs(e.boundingClientRect.top)-Math.abs(t.boundingClientRect.top)))[0];window.lastScrollY=window.scrollY,n.querySelectorAll(".toc-link").forEach((e=>{const t=e.getAttribute("href")?.slice(1);if(t)if(o&&o.target.id===t){e.classList.add("active");const t=n,r=e.getBoundingClientRect(),i=t.getBoundingClientRect();r.bottom>i.bottom?t.scrollTo({top:t.scrollTop+(r.bottom-i.bottom)+this.scrollVal,behavior:"smooth"}):r.top<i.top&&t.scrollTo({top:t.scrollTop-(i.top-r.top)-this.scrollVal,behavior:"smooth"})}else e.classList.remove("active")}))}),{rootMargin:"-10% 0px -10% 0px",threshold:[.5]});t.forEach((({id:e})=>{const t=document.getElementById(e);t&&(t.tagName.match(/^H[1-6]$/)||"HCB_comment_box"===e)&&s.observe(t)}))}),100)}setupScrollListeners(e){const t=e.querySelector(".back-to-top"),n=e.querySelector(".back-to-notes.floating"),r=e.querySelector(".back-to-notes:not(.floating)");if(t&&t.checkVisibility()&&(window.addEventListener("scroll",(()=>{window.scrollY>this.scrollVal?(t.classList.add("visible"),t.style.opacity="1",t.style.visibility="visible"):(t.classList.remove("visible"),t.style.opacity="0",t.style.visibility="hidden")})),t.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))),n&&r&&n.checkVisibility()){const e=r.getBoundingClientRect().top+this.scrollVal;window.addEventListener("scroll",(()=>{window.scrollY>e?n.classList.add("visible"):n.classList.remove("visible")}))}}}class Jn extends e{constructor(e){super(e),Object.defineProperty(this,"noteService",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"selectedTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.noteService=z.getInstance(),this.selectedTags=e.tag?e.tag.split("+"):[]}createNoteCard(e){const t=document.createElement("div");return t.classList.add("note-card"),t.innerHTML=`\n            <h2><a href="/${this.noteService.getUrlFromNote(e)}" class="note-link" data-link>${e.title}</a></h2>\n            <div class="note-meta">\n                <div class="meta-top">\n                    <span class="reading-time">⌛ ${e.readingTime}</span>\n                    <span class="publish-date">🗓️ ${e.publishDate}</span>\n                    ${e.githubLink?`<a href="${e.githubLink}" class="github-link" target="_blank" aria-label="View on GitHub"></a>`:""}\n                    ${e.links&&e.links.length>0?e.links.map((e=>`<a href="${e.url}" class="external-link" target="_blank" aria-label="${e.description}">🔗 ${e.description}</a>`)).join(""):""}\n                </div>\n                <div class="note-tags">\n                    ${e.tags.map((e=>`<span class="tag ${this.selectedTags.includes(e)?"active":""}" data-tag="${e}">${e}</span>`)).join("")}\n                </div>\n            </div>\n        `,t}async render(){const e=document.createElement("div");e.classList.add("tag-page");const t=await this.noteService.getNotesByTags(this.selectedTags);e.innerHTML=`\n            <div class="container">\n                <a href="/notes" class="back-to-notes floating visible" data-link>← Back to all notes</a>\n                <h1>Notes tagged with ${this.selectedTags.map((e=>`"${e}"`)).join(" + ")}</h1>\n                <div class="tag-cloud-container">\n                  <div class="loading">Loading tags...</div>\n                </div>\n                <div class="notes-grid"></div>\n                <button class="back-to-top" aria-label="Back to top">↑</button>\n            </div>\n        `;const n=e.querySelector(".notes-grid");t.forEach((t=>{const r=this.createNoteCard(t);r.querySelectorAll(".tag").forEach((t=>{t.addEventListener("click",(n=>{n.preventDefault();const r=t.getAttribute("data-tag");this.selectedTags.includes(r)?this.selectedTags=this.selectedTags.filter((e=>e!==r)):this.selectedTags.push(r);const i=this.selectedTags.length>0?`/tag/${this.selectedTags.join("+")}`:"/notes";history.pushState(null,"",i),this.render().then((t=>{e.replaceWith(t)}))}))})),n.appendChild(r)}));const r=e.querySelector(".back-to-top");return r&&r.checkVisibility()&&(window.addEventListener("scroll",(()=>{window.scrollY>300?r.classList.add("visible"):r.classList.remove("visible")})),r.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))),setTimeout((async()=>{try{const t=e.querySelector(".tag-cloud-container");if(t&&t.checkVisibility()){const e=await this.noteService.getTagFrequencies(),n=new Wn(t,t.clientWidth,200,(e=>{window.location.href=`/tag/${e}`}));await n.render(e)}}catch(t){console.error("Error setting up tag cloud:",t);const n=e.querySelector(".tag-cloud-container");n&&(n.innerHTML='<div class="error">Failed to load tags</div>')}}),0),e}}(new class{constructor(){Object.defineProperty(this,"router",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.router=new t([{path:"/",view:r},{path:"/notes",view:Kn},{path:"/note/:dateid",view:Gn},{path:"/tag/:tag",view:Jn}]),function(){const e=document.querySelector(".theme-toggle"),t=localStorage.getItem("theme");t&&(document.body.dataset.theme=t),e.addEventListener("click",(()=>{const e="dark"===document.body.dataset.theme;document.body.dataset.theme=e?"light":"dark",localStorage.setItem("theme",e?"light":"dark")}))}()}init(){window.addEventListener("popstate",(async()=>{await this.router.route()})),document.addEventListener("wheel",(function(e){e.ctrlKey&&e.preventDefault()}),{passive:!1}),window.addEventListener("keydown",(function(e){!e.ctrlKey&&!e.metaKey||61!==e.which&&107!==e.which&&173!==e.which&&109!==e.which&&187!==e.which&&189!==e.which||e.preventDefault()}),!1),document.addEventListener("DOMContentLoaded",(async()=>{document.body.addEventListener("click",(async e=>{if(e.target instanceof HTMLElement){const t=e.target.closest("[data-link]");t instanceof HTMLAnchorElement&&(e.preventDefault(),history.pushState(null,"",t.href),await this.router.route())}})),await this.router.route()}))}}).init()})()})();