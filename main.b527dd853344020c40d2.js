(()=>{var e={84:(e,t,n)=>{const r=n(96).J,i=Math.PI/180,o={archimedean:m,rectangular:function(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}},a=2048;function s(e){return e.text}function l(){return"serif"}function c(){return"normal"}function u(e){return Math.sqrt(e.value)}function h(){return 30*(~~(6*random())-3)}function f(){return 1}function p(e,t,n,r){if(!t.sprite){var o=e.context,s=e.ratio;o.clearRect(0,0,2048/s,a/s);var l=0,c=0,u=0,h=n.length;for(--r;++r<h;){t=n[r],o.save(),o.font=t.style+" "+t.weight+" "+~~((t.size+1)/s)+"px "+t.font;const e=o.measureText(t.text),h=-Math.floor(e.width/2);let v=(e.width+1)*s,b=t.size<<1;if(t.rotate){var f=Math.sin(t.rotate*i),p=Math.cos(t.rotate*i),d=v*p,g=v*f,m=b*p,y=b*f;v=Math.max(Math.abs(d+y),Math.abs(d-y))+31>>5<<5,b=~~Math.max(Math.abs(g+m),Math.abs(g-m))}else v=v+31>>5<<5;if(b>u&&(u=b),l+v>=2048&&(l=0,c+=u,u=0),c+b>=a)break;o.translate((l+(v>>1))/s,(c+(b>>1))/s),t.rotate&&o.rotate(t.rotate*i),o.fillText(t.text,h,0),t.padding&&(o.lineWidth=2*t.padding,o.strokeText(t.text,h,0)),o.restore(),t.width=v,t.height=b,t.xoff=l,t.yoff=c,t.x1=v>>1,t.y1=b>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,l+=v}for(var v=o.getImageData(0,0,2048/s,a/s).data,b=[];--r>=0;)if((t=n[r]).hasText){for(var w=t.width,k=w>>5,x=t.y1-t.y0,_=0;_<x*k;_++)b[_]=0;if(null==(l=t.xoff))return;c=t.yoff;for(var S=0,$=-1,E=0;E<x;E++){for(_=0;_<w;_++){var I=k*E+(_>>5),T=v[2048*(c+E)+(l+_)<<2]?1<<31-_%32:0;b[I]|=T,S|=T}S?$=E:(t.y0++,x--,E--,c++)}t.y1=t.y0+$,t.sprite=b.slice(0,(t.y1-t.y0)*k)}}}function d(e,t,n){n>>=5;for(var r,i=e.sprite,o=e.width>>5,a=e.x-(o<<4),s=127&a,l=32-s,c=e.y1-e.y0,u=(e.y+e.y0)*n+(a>>5),h=0;h<c;h++){r=0;for(var f=0;f<=o;f++)if((r<<l|(f<o?(r=i[h*o+f])>>>s:0))&t[u+f])return!0;u+=n}return!1}function g(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function m(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function y(){return document.createElement("canvas")}function v(e){return"function"==typeof e?e:function(){return e}}e.exports=function(){var e=[256,256],t=s,n=l,i=u,b=c,w=c,k=h,x=f,_=m,S=[],$=1/0,E=r("word","end"),I=null,T=Math.random,A={},O=y;function P(t,n,r){e[0],e[1];for(var i,o,a,s,l,c=n.x,u=n.y,h=Math.sqrt(e[0]*e[0]+e[1]*e[1]),f=_(e),p=T()<.5?1:-1,g=-p;(i=f(g+=p))&&(o=~~i[0],a=~~i[1],!(Math.min(Math.abs(o),Math.abs(a))>=h));)if(n.x=c+o,n.y=u+a,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>e[0]||n.y+n.y1>e[1]||r&&(l=r,!((s=n).x+s.x1>l[0].x&&s.x+s.x0<l[1].x&&s.y+s.y1>l[0].y&&s.y+s.y0<l[1].y))||d(n,t,e[0]))){for(var m,y=n.sprite,v=n.width>>5,b=e[0]>>5,w=n.x-(v<<4),k=127&w,x=32-k,S=n.y1-n.y0,$=(n.y+n.y0)*b+(w>>5),E=0;E<S;E++){m=0;for(var I=0;I<=v;I++)t[$+I]|=m<<x|(I<v?(m=y[E*v+I])>>>k:0);$+=b}return!0}return!1}return A.canvas=function(e){return arguments.length?(O=v(e),A):O},A.start=function(){var r=function(e){const t=e.getContext("2d",{willReadFrequently:!0});e.width=e.height=1;const n=Math.sqrt(t.getImageData(0,0,1,1).data.length>>2);return e.width=2048/n,e.height=a/n,t.fillStyle=t.strokeStyle="red",{context:t,ratio:n}}(O()),o=function(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}((e[0]>>5)*e[1]),s=null,l=S.length,c=-1,u=[],h=S.map((function(e,r){return e.text=t.call(this,e,r),e.font=n.call(this,e,r),e.style=b.call(this,e,r),e.weight=w.call(this,e,r),e.rotate=k.call(this,e,r),e.size=~~i.call(this,e,r),e.padding=x.call(this,e,r),e})).sort((function(e,t){return t.size-e.size}));return I&&clearInterval(I),I=setInterval(f,0),f(),A;function f(){for(var t=Date.now();Date.now()-t<$&&++c<l&&I;){var n=h[c];n.x=e[0]*(T()+.5)>>1,n.y=e[1]*(T()+.5)>>1,p(r,n,h,c),n.hasText&&P(o,n,s)&&(u.push(n),E.call("word",A,n),s?g(s,n):s=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=e[0]>>1,n.y-=e[1]>>1)}c>=l&&(A.stop(),E.call("end",A,u,s))}},A.stop=function(){I&&(clearInterval(I),I=null);for(const e of S)delete e.sprite;return A},A.timeInterval=function(e){return arguments.length?($=null==e?1/0:e,A):$},A.words=function(e){return arguments.length?(S=e,A):S},A.size=function(t){return arguments.length?(e=[+t[0],+t[1]],A):e},A.font=function(e){return arguments.length?(n=v(e),A):n},A.fontStyle=function(e){return arguments.length?(b=v(e),A):b},A.fontWeight=function(e){return arguments.length?(w=v(e),A):w},A.rotate=function(e){return arguments.length?(k=v(e),A):k},A.text=function(e){return arguments.length?(t=v(e),A):t},A.spiral=function(e){return arguments.length?(_=o[e]||e,A):_},A.fontSize=function(e){return arguments.length?(i=v(e),A):i},A.padding=function(e){return arguments.length?(x=v(e),A):x},A.random=function(e){return arguments.length?(T=e,A):T},A.on=function(){var e=E.on.apply(E,arguments);return e===E?A:e},A}},96:(e,t,n)=>{"use strict";n.d(t,{J:()=>l});var r={value:function(){}};function i(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new o(r)}function o(e){this._=e}function a(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function s(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=r,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}o.prototype=i.prototype={constructor:o,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),l=-1,c=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++l<c;)if(n=(e=o[l]).type)i[n]=s(i[n],e.name,t);else if(null==t)for(n in i)i[n]=s(i[n],e.name,null);return this}for(;++l<c;)if((n=(e=o[l]).type)&&(n=a(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new o(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const l=i},144:function(e){e.exports=function(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}},907:(e,t,n)=>{"use strict";n.d(t,{AnalyticsService:()=>Ht});var r=n(144),i=n.n(r),o="undefined",a="object",s="undefined"!=typeof process?process:{},l=(s.env&&s.env.NODE_ENV,"undefined"!=typeof document);function c(e,t){return t.charAt(0)[e]()+t.slice(1)}l&&window.location.hostname,null!=s.versions&&s.versions.node,"undefined"!=typeof Deno&&Deno.core,"object"==typeof self&&self.constructor&&self.constructor.name,l&&"nodejs"===window.name||"undefined"!=typeof navigator&&void 0!==navigator.userAgent&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"));var u=c.bind(null,"toUpperCase"),h=c.bind(null,"toLowerCase");function f(e,t){void 0===t&&(t=!0);var n=function(e){return v(e)?u("null"):"object"==typeof e?function(e){return d(e.constructor)?e.constructor.name:null}(e):Object.prototype.toString.call(e).slice(8,-1)}(e);return t?h(n):n}function p(e,t){return typeof t===e}var d=p.bind(null,"function"),g=p.bind(null,"string"),m=p.bind(null,"undefined"),y=p.bind(null,"boolean");function v(e){return null===e}function b(e){if(!function(e){return e&&("object"==typeof e||null!==e)}(e))return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function w(e,t){if("object"!=typeof t||v(t))return!1;if(t instanceof e)return!0;var n=f(new e(""));if(function(e){return e instanceof Error||g(e.message)&&e.constructor&&function(e){return"number"===f(e)&&!isNaN(e)}(e.constructor.stackTraceLimit)}(t))for(;t;){if(f(t)===n)return!0;t=Object.getPrototypeOf(t)}return!1}function k(e,t){var n=e instanceof Element||e instanceof HTMLDocument;return n&&t?function(e,t){return void 0===t&&(t=""),e&&e.nodeName===t.toUpperCase()}(e,t):n}function x(e){var t=[].slice.call(arguments,1);return function(){return e.apply(void 0,[].slice.call(arguments).concat(t))}}function _(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function S(e,t,n){for(var r=t.length-1,i=0;i<r;++i){var o=t[i];if("__proto__"===o||"constructor"===o)break;o in e||(e[o]={}),e=e[o]}e[t[r]]=n}function $(){for(var e="",t=0,n=4294967295*Math.random()|0;t++<36;){var r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[t-1],i=15&n;e+="-"==r||"4"==r?r:("x"==r?i:3&i|8).toString(16),n=t%8==0?4294967295*Math.random()|0:n>>4}return e}p.bind(null,"symbol"),w.bind(null,TypeError),w.bind(null,SyntaxError),x(k,"form"),x(k,"button"),x(k,"input"),x(k,"select");var E="global",I="__global__",T=typeof self===a&&self.self===self&&self||typeof n.g===a&&n.g.global===n.g&&n.g||void 0;function A(e){return T[I][e]}function O(e,t){return T[I][e]=t}function P(e){delete T[I][e]}function N(e,t,n){var r;try{if(j(e)){var i=window[e];r=i[t].bind(i)}}catch(e){}return r||n}T[I]||(T[I]={});var z={};function j(e){if(typeof z[e]!==o)return z[e];try{var t=window[e];t.setItem(o,o),t.removeItem(o)}catch(t){return z[e]=!1}return z[e]=!0}function L(){return L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}var C="function",M="undefined",q="@@redux/"+Math.random().toString(36),D=function(){return typeof Symbol===C&&Symbol.observable||"@@observable"}(),R=" != "+C;function B(e,t,n){var r;if(typeof t===C&&typeof n===M&&(n=t,t=void 0),typeof n!==M){if(typeof n!==C)throw new Error("enhancer"+R);return n(B)(e,t)}if(typeof e!==C)throw new Error("reducer"+R);var i=e,o=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){return o}function h(e){if(typeof e!==C)throw new Error("Listener"+R);var t=!0;return c(),s.push(e),function(){if(t){t=!1,c();var n=s.indexOf(e);s.splice(n,1)}}}function f(e){if(!b(e))throw new Error("Act != obj");if(typeof e.type===M)throw new Error("ActType "+M);if(l)throw new Error("Dispatch in reducer");try{l=!0,o=i(o,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++)(0,t[n])();return e}return f({type:"@@redux/INIT"}),(r={dispatch:f,subscribe:h,getState:u,replaceReducer:function(e){if(typeof e!==C)throw new Error("next reducer"+R);i=e,f({type:"@@redux/INIT"})}})[D]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Observer != obj");function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[D]=function(){return this},e},r}function H(e,t){var n=t&&t.type;return"action "+(n&&n.toString()||"?")+"reducer "+e+" returns "+M}function U(){var e=[].slice.call(arguments);return 0===e.length?function(e){return e}:1===e.length?e[0]:e.reduce((function(e,t){return function(){return e(t.apply(void 0,[].slice.call(arguments)))}}))}function V(){var e=arguments;return function(t){return function(n,r,i){var o,a=t(n,r,i),s=a.dispatch,l={getState:a.getState,dispatch:function(e){return s(e)}};return o=[].slice.call(e).map((function(e){return e(l)})),L({},a,{dispatch:s=U.apply(void 0,o)(a.dispatch)})}}}var X="__anon_id",F="__user_id",Z="__user_traits",Y="userId",Q="anonymousId",W=["bootstrap","params","campaign","initializeStart","initialize","initializeEnd","ready","resetStart","reset","resetEnd","pageStart","page","pageEnd","pageAborted","trackStart","track","trackEnd","trackAborted","identifyStart","identify","identifyEnd","identifyAborted","userIdChanged","registerPlugins","enablePlugin","disablePlugin","online","offline","setItemStart","setItem","setItemEnd","setItemAborted","removeItemStart","removeItem","removeItemEnd","removeItemAborted"],J=["name","EVENTS","config","loaded"],G=W.reduce((function(e,t){return e[t]=t,e}),{registerPluginType:function(e){return"registerPlugin:"+e},pluginReadyType:function(e){return"ready:"+e}}),K=/^utm_/,ee=/^an_prop_/,te=/^an_trait_/;function ne(e){var t=e.storage.setItem;return function(n){return function(r){return function(i){if(i.type===G.bootstrap){var o=i.params,a=i.user,s=i.persistedUser,l=i.initialUser,c=s.userId===a.userId;s.anonymousId!==a.anonymousId&&t(X,a.anonymousId),c||t(F,a.userId),l.traits&&t(Z,L({},c&&s.traits?s.traits:{},l.traits));var u=Object.keys(i.params);if(u.length){var h=o.an_uid,f=o.an_event,p=u.reduce((function(e,t){if(t.match(K)||t.match(/^(d|g)clid/)){var n=t.replace(K,"");e.campaign["campaign"===n?"name":n]=o[t]}return t.match(ee)&&(e.props[t.replace(ee,"")]=o[t]),t.match(te)&&(e.traits[t.replace(te,"")]=o[t]),e}),{campaign:{},props:{},traits:{}});n.dispatch(L({type:G.params,raw:o},p,h?{userId:h}:{})),h&&setTimeout((function(){return e.identify(h,p.traits)}),0),f&&setTimeout((function(){return e.track(f,p.props)}),0),Object.keys(p.campaign).length&&n.dispatch({type:G.campaign,campaign:p.campaign})}}return r(i)}}}}function re(e){return function(t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),n.type===G.setItemEnd){if(n.key===X)return L({},t,{anonymousId:n.value});if(n.key===F)return L({},t,{userId:n.value})}switch(n.type){case G.identify:return Object.assign({},t,{userId:n.userId,traits:L({},t.traits,n.traits)});case G.reset:return[F,X,Z].forEach((function(t){e.removeItem(t)})),Object.assign({},t,{userId:null,anonymousId:null,traits:{}});default:return t}}}function ie(e){return{userId:e.getItem(F),anonymousId:e.getItem(X),traits:e.getItem(Z)}}var oe=function(e){return"__TEMP__"+e};function ae(e){var t=e.storage,n=t.setItem,r=t.removeItem,i=t.getItem;return function(e){return function(t){return function(o){var a=o.userId,s=o.traits,l=o.options;if(o.type===G.reset&&([F,Z,X].forEach((function(e){r(e)})),[Y,Q,"traits"].forEach((function(e){P(oe(e))}))),o.type===G.identify){i(X)||n(X,$());var c=i(F),u=i(Z)||{};c&&c!==a&&e.dispatch({type:G.userIdChanged,old:{userId:c,traits:u},new:{userId:a,traits:s},options:l}),a&&n(F,a),s&&n(Z,L({},u,s))}return t(o)}}}}var se={};function le(e,t){se[e]&&d(se[e])&&(se[e](t),delete se[e])}function ce(e,t,n){return new Promise((function(r,i){return t()?r(e):n<1?i(L({},e,{queue:!0})):new Promise((function(e){return setTimeout(e,10)})).then((function(o){return ce(e,t,n-10).then(r,i)}))}))}function ue(e){return{abort:e}}function he(e,t,n){var r={},i=t(),o=e.getState(),a=o.plugins,s=o.queue,l=o.user;if(!o.context.offline&&s&&s.actions&&s.actions.length){var c=s.actions.reduce((function(e,t,n){return a[t.plugin].loaded?(e.process.push(t),e.processIndex.push(n)):(e.requeue.push(t),e.requeueIndex.push(n)),e}),{processIndex:[],process:[],requeue:[],requeueIndex:[]});if(c.processIndex&&c.processIndex.length){c.processIndex.forEach((function(t){var o=s.actions[t],c=o.plugin,u=o.payload.type,h=i[c][u];if(h&&d(h)){var f,p=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),[Y,Q].reduce((function(n,r){return e.hasOwnProperty(r)&&t[r]&&t[r]!==e[r]&&(n[r]=t[r]),n}),e)}(o.payload,l),g=r[p.meta.rid];if(!g&&(f=h({payload:p,config:a[c].config,instance:n,abort:ue}))&&b(f)&&f.abort)return void(r[p.meta.rid]=!0);if(!g){var m=u+":"+c;e.dispatch(L({},p,{type:m,_:{called:m,from:"queueDrain"}}))}}}));var u=s.actions.filter((function(e,t){return!~c.processIndex.indexOf(t)}));s.actions=u}}}var fe=function(e){var t=e.data,n=e.action,r=e.instance,i=e.state,o=e.allPlugins,a=e.allMatches,s=e.store,l=e.EVENTS;try{var c=i.plugins,u=i.context,h=n.type,f=h.match(pe),p=t.exact.map((function(e){return e.pluginName}));f&&(p=a.during.map((function(e){return e.pluginName})));var g=function(e,t){return function(n,r,i){var o=r.config,a=r.name,s=a+"."+n.type;i&&(s=i.event);var l=n.type.match(pe)?function(e,t,n,r,i){return function(o,a){var s=r?r.name:e,l=a&&xe(a)?a:n;if(r&&(!(l=a&&xe(a)?a:[e]).includes(e)||1!==l.length))throw new Error("Method "+t+" can only abort "+e+" plugin. "+JSON.stringify(l)+" input valid");return L({},i,{abort:{reason:o,plugins:l,caller:t,_:s}})}}(a,s,t,i,n):function(e,t){return function(){throw new Error(e.type+" action not cancellable. Remove abort in "+t)}}(n,s);return{payload:$e(n),instance:e,config:o||{},abort:l}}}(r,p),m=t.exact.reduce((function(e,t){var n=t.pluginName,r=t.methodName,i=!1;return r.match(/^initialize/)||r.match(/^reset/)||(i=!c[n].loaded),u.offline&&r.match(/^(page|track|identify)/)&&(i=!0),e[""+n]=i,e}),{});return Promise.resolve(t.exact.reduce((function(e,i,a){try{var s=i.pluginName;return Promise.resolve(e).then((function(e){function i(){return Promise.resolve(e)}var a=function(){if(t.namespaced&&t.namespaced[s])return Promise.resolve(t.namespaced[s].reduce((function(e,t,n){try{return Promise.resolve(e).then((function(e){return t.method&&d(t.method)?(function(e,t){var n=Se(e);if(n&&n.name===t){var r=Se(n.method);throw new Error([t+" plugin is calling method "+e,"Plugins cant call self","Use "+n.method+" "+(r?"or "+r.method:"")+" in "+t+" plugin insteadof "+e].join("\n"))}}(t.methodName,t.pluginName),Promise.resolve(t.method({payload:e,instance:r,abort:(n=e,i=s,a=t.pluginName,function(e,t){return L({},n,{abort:{reason:e,plugins:t||[i],caller:h,from:a||i}})}),config:ye(t.pluginName,c,o),plugins:c})).then((function(t){var n=b(t)?t:{};return Promise.resolve(L({},e,n))}))):e;var n,i,a}))}catch(e){return Promise.reject(e)}}),Promise.resolve(n))).then((function(t){e[s]=t}));e[s]=n}();return a&&a.then?a.then(i):i()}))}catch(e){return Promise.reject(e)}}),Promise.resolve({}))).then((function(e){return Promise.resolve(t.exact.reduce((function(n,i,a){try{var l=t.exact.length===a+1,u=i.pluginName,p=o[u];return Promise.resolve(n).then((function(t){var n=e[u]?e[u]:{};if(f&&(n=t),we(n,u))return me({data:n,method:h,instance:r,pluginName:u,store:s}),Promise.resolve(t);if(we(t,u))return l&&me({data:t,method:h,instance:r,store:s}),Promise.resolve(t);if(m.hasOwnProperty(u)&&!0===m[u])return s.dispatch({type:"queue",plugin:u,payload:n,_:{called:"queue",from:"queueMechanism"}}),Promise.resolve(t);var i=g(e[u],o[u]);return Promise.resolve(p[h]({abort:i.abort,payload:n,instance:r,config:ye(u,c,o),plugins:c})).then((function(i){var o=b(i)?i:{},a=L({},t,o),l=e[u];if(we(l,u))me({data:l,method:h,instance:r,pluginName:u,store:s});else{var c=h+":"+u;(c.match(/:/g)||[]).length<2&&!h.match(de)&&!h.match(ge)&&r.dispatch(L({},f?a:n,{type:c,_:{called:c,from:"submethod"}}))}return Promise.resolve(a)}))}))}catch(e){return Promise.reject(e)}}),Promise.resolve(n))).then((function(e){if(!(h.match(pe)||h.match(/^registerPlugin/)||h.match(ge)||h.match(de)||h.match(/^params/)||h.match(/^userIdChanged/))){if(l.plugins.includes(h),e._&&e._.originalAction===h)return e;var n=L({},e,{_:{originalAction:e.type,called:e.type,from:"engineEnd"}});ke(e,t.exact.length)&&!h.match(/End$/)&&(n=L({},n,{type:e.type+"Aborted"})),s.dispatch(n)}return e}))}))}catch(e){return Promise.reject(e)}},pe=/Start$/,de=/^bootstrap/,ge=/^ready/;function me(e){var t=e.pluginName,n=e.method+"Aborted"+(t?":"+t:"");e.store.dispatch(L({},e.data,{type:n,_:{called:n,from:"abort"}}))}function ye(e,t,n){var r=t[e]||n[e];return r&&r.config?r.config:{}}function ve(e,t){return t.reduce((function(t,n){return n[e]?t.concat({methodName:e,pluginName:n.name,method:n[e]}):t}),[])}function be(e,t){var n=e.replace(pe,""),r=t?":"+t:"";return[""+e+r,""+n+r,n+"End"+r]}function we(e,t){var n=e.abort;return!!n&&(!0===n||_e(n,t)||n&&_e(n.plugins,t))}function ke(e,t){var n=e.abort;if(!n)return!1;if(!0===n||g(n))return!0;var r=n.plugins;return xe(n)&&n.length===t||xe(r)&&r.length===t}function xe(e){return Array.isArray(e)}function _e(e,t){return!(!e||!xe(e))&&e.includes(t)}function Se(e){var t=e.match(/(.*):(.*)/);return!!t&&{method:t[1],name:t[2]}}function $e(e){return Object.keys(e).reduce((function(t,n){return"type"===n||(t[n]=b(e[n])?Object.assign({},e[n]):e[n]),t}),{})}function Ee(e,t,n){var r={};return function(i){return function(o){return function(a){try{var s,l=function(e){return s?e:o(h)},c=a.type,u=a.plugins,h=a;if(a.abort)return Promise.resolve(o(a));if(c===G.enablePlugin&&i.dispatch({type:G.initializeStart,plugins:u,disabled:[],fromEnable:!0,meta:a.meta}),c===G.disablePlugin&&setTimeout((function(){return le(a.meta.rid,{payload:a})}),0),c===G.initializeEnd){var f=t(),p=Object.keys(f),g=p.filter((function(e){return u.includes(e)})).map((function(e){return f[e]})),m=[],v=[],b=a.disabled,w=g.map((function(e){var t=e.loaded,n=e.name,o=e.config;return ce(e,(function(){return t({config:o})}),1e4).then((function(t){return r[n]||(i.dispatch({type:G.pluginReadyType(n),name:n,events:Object.keys(e).filter((function(e){return!J.includes(e)}))}),r[n]=!0),m=m.concat(n),e})).catch((function(e){if(e instanceof Error)throw new Error(e);return v=v.concat(e.name),e}))}));Promise.all(w).then((function(e){var t={plugins:m,failed:v,disabled:b};setTimeout((function(){p.length===w.length+b.length&&i.dispatch(L({},{type:G.ready},t))}),0)}))}var k=function(){if(c!==G.bootstrap)return/^ready:([^:]*)$/.test(c)&&setTimeout((function(){return he(i,t,e)}),0),Promise.resolve(function(e,t,n,r,i){try{var o=d(t)?t():t,a=e.type,s=a.replace(pe,"");if(e._&&e._.called)return Promise.resolve(e);var l=n.getState(),c=(f=o,void 0===(p=l.plugins)&&(p={}),void 0===(g=e.options)&&(g={}),Object.keys(f).filter((function(e){var t=g.plugins||{};return y(t[e])?t[e]:!1!==t.all&&(!p[e]||!1!==p[e].enabled)})).map((function(e){return f[e]})));a===G.initializeStart&&e.fromEnable&&(c=Object.keys(l.plugins).filter((function(t){var n=l.plugins[t];return e.plugins.includes(t)&&!n.initialized})).map((function(e){return o[e]})));var u=c.map((function(e){return e.name})),h=function(e,t){var n=be(e).map((function(e){return ve(e,t)}));return t.reduce((function(n,r){var i=r.name,o=be(e,i).map((function(e){return ve(e,t)})),a=o[0],s=o[1],l=o[2];return a.length&&(n.beforeNS[i]=a),s.length&&(n.duringNS[i]=s),l.length&&(n.afterNS[i]=l),n}),{before:n[0],beforeNS:{},during:n[1],duringNS:{},after:n[2],afterNS:{}})}(a,c);return Promise.resolve(fe({action:e,data:{exact:h.before,namespaced:h.beforeNS},state:l,allPlugins:o,allMatches:h,instance:n,store:r,EVENTS:i})).then((function(e){function t(){var t=function(){if(a.match(pe))return Promise.resolve(fe({action:L({},c,{type:s+"End"}),data:{exact:h.after,namespaced:h.afterNS},state:l,allPlugins:o,allMatches:h,instance:n,store:r,EVENTS:i})).then((function(e){e.meta&&e.meta.hasCallback&&le(e.meta.rid,{payload:e})}))}();return t&&t.then?t.then((function(){return e})):e}if(ke(e,u.length))return e;var c,f=function(){if(a!==s)return Promise.resolve(fe({action:L({},e,{type:s}),data:{exact:h.during,namespaced:h.duringNS},state:l,allPlugins:o,allMatches:h,instance:n,store:r,EVENTS:i})).then((function(e){c=e}));c=e}();return f&&f.then?f.then(t):t()}))}catch(e){return Promise.reject(e)}var f,p,g}(a,t,e,i,n)).then((function(e){return s=1,o(e)}))}();return Promise.resolve(k&&k.then?k.then(l):l(k))}catch(e){return Promise.reject(e)}}}}}function Ie(e){return function(t){return function(t){return function(n){var r=n.type,i=n.key,o=n.value,a=n.options;if(r===G.setItem||r===G.removeItem){if(n.abort)return t(n);r===G.setItem?e.setItem(i,o,a):e.removeItem(i,a)}return t(n)}}}}var Te=function(){var e=this;this.before=[],this.after=[],this.addMiddleware=function(t,n){e[n]=e[n].concat(t)},this.removeMiddleware=function(t,n){var r=e[n].findIndex((function(e){return e===t}));-1!==r&&(e[n]=[].concat(e[n].slice(0,r),e[n].slice(r+1)))},this.dynamicMiddlewares=function(t){return function(n){return function(r){return function(i){var o={getState:n.getState,dispatch:function(e){return n.dispatch(e)}},a=e[t].map((function(e){return e(o)}));return U.apply(void 0,a)(r)(i)}}}}};function Ae(e){return function(t,n){void 0===t&&(t={});var r={};if("initialize:aborted"===n.type)return t;if(/^registerPlugin:([^:]*)$/.test(n.type)){var i=Oe(n.type,"registerPlugin"),o=e()[i];if(!o||!i)return t;var a=n.enabled,s=o.config;return r[i]={enabled:a,initialized:!!a&&Boolean(!o.initialize),loaded:!!a&&Boolean(o.loaded({config:s})),config:s},L({},t,r)}if(/^initialize:([^:]*)$/.test(n.type)){var l=Oe(n.type,G.initialize),c=e()[l];return c&&l?(r[l]=L({},t[l],{initialized:!0,loaded:Boolean(c.loaded({config:c.config}))}),L({},t,r)):t}if(/^ready:([^:]*)$/.test(n.type))return r[n.name]=L({},t[n.name],{loaded:!0}),L({},t,r);switch(n.type){case G.disablePlugin:return L({},t,Pe(n.plugins,!1,t));case G.enablePlugin:return L({},t,Pe(n.plugins,!0,t));default:return t}}}function Oe(e,t){return e.substring(t.length+1,e.length)}function Pe(e,t,n){return e.reduce((function(e,r){return e[r]=L({},n[r],{enabled:t}),e}),n)}function Ne(e){try{return JSON.parse(JSON.stringify(e))}catch(e){}return e}var ze={last:{},history:[]};function je(e,t){void 0===e&&(e=ze);var n=t.options,r=t.meta;if(t.type===G.track){var i=Ne(L({event:t.event,properties:t.properties},Object.keys(n).length&&{options:n},{meta:r}));return L({},e,{last:i,history:e.history.concat(i)})}return e}var Le={actions:[]};function Ce(e,t){void 0===e&&(e=Le);var n=t.payload;switch(t.type){case"queue":var r;return r=n&&n.type&&n.type===G.identify?[t].concat(e.actions):e.actions.concat(t),L({},e,{actions:r});case"dequeue":return[];default:return e}}var Me=/#.*$/;function qe(e){var t=/(http[s]?:\/\/)?([^\/\s]+\/)(.*)/g.exec(e);return"/"+(t&&t[3]?t[3].split("?")[0].replace(Me,""):"")}var De,Re,Be,He,Ue=function(e){if(void 0===e&&(e={}),!l)return e;var t=document,n=t.title,r=t.referrer,i=window,o=i.location,a=i.innerWidth,s=i.innerHeight,c=o.hash,u=o.search,h=function(e){var t=function(){if(l)for(var e,t=document.getElementsByTagName("link"),n=0;e=t[n];n++)if("canonical"===e.getAttribute("rel"))return e.getAttribute("href")}();return t?t.match(/\?/)?t:t+e:window.location.href.replace(Me,"")}(u),f={title:n,url:h,path:qe(h),hash:c,search:u,width:a,height:s};return r&&""!==r&&(f.referrer=r),L({},f,e)},Ve={last:{},history:[]};function Xe(e,t){void 0===e&&(e=Ve);var n=t.options;if(t.type===G.page){var r=Ne(L({properties:t.properties,meta:t.meta},Object.keys(n).length&&{options:n}));return L({},e,{last:r,history:e.history.concat(r)})}return e}De=function(){if(!l)return!1;var e=navigator.appVersion;return~e.indexOf("Win")?"Windows":~e.indexOf("Mac")?"MacOS":~e.indexOf("X11")?"UNIX":~e.indexOf("Linux")?"Linux":"Unknown OS"}(),Re=l?document.referrer:null,Be=function(){if(l){var e=navigator,t=e.languages;return e.userLanguage||(t&&t.length?t[0]:e.language)}}(),He=function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){}}();var Fe={initialized:!1,sessionId:$(),app:null,version:null,debug:!1,offline:!!l&&!navigator.onLine,os:{name:De},userAgent:l?navigator.userAgent:"node",library:{name:"analytics",version:"0.12.16"},timezone:He,locale:Be,campaign:{},referrer:Re};function Ze(e,t){void 0===e&&(e=Fe);var n=e.initialized,r=t.campaign;switch(t.type){case G.campaign:return L({},e,{campaign:r});case G.offline:return L({},e,{offline:!0});case G.online:return L({},e,{offline:!1});default:return n?e:L({},Fe,e,{initialized:!0})}}var Ye=["plugins","reducers","storage"];function Qe(e,t,n){if(l){var r=window[(n?"add":"remove")+"EventListener"];e.split(" ").forEach((function(e){r(e,t)}))}}function We(e){var t=Qe.bind(null,"online offline",(function(t){return Promise.resolve(!navigator.onLine).then(e)}));return t(!0),function(e){return t(!1)}}function Je(){return O("analytics",[]),function(e){return function(t,n,r){var i=e(t,n,r),o=i.dispatch;return Object.assign(i,{dispatch:function(e){return T[I].analytics.push(e.action||e),o(e)}})}}}function Ge(e){return function(){return U(U.apply(null,arguments),Je())}}function Ke(e){return e?"array"===f(e)?e:[e]:[]}function et(e,t,n){void 0===e&&(e={});var r,i,o=$();return t&&(se[o]=(r=t,i=function(e){for(var t,n=e||Array.prototype.slice.call(arguments),r=0;r<n.length;r++)if(d(n[r])){t=n[r];break}return t}(n),function(e){i&&i(e),r(e)})),L({},e,{rid:o,ts:(new Date).getTime()},t?{hasCallback:!0}:{})}function tt(e){void 0===e&&(e={});var t,n,r=e.reducers||{},o=e.initialUser||{},a=(e.plugins||[]).reduce((function(e,t){if(d(t))return e.middlewares=e.middlewares.concat(t),e;if(t.NAMESPACE&&(t.name=t.NAMESPACE),!t.name)throw new Error("https://lytics.dev/errors/1");t.config||(t.config={});var n=t.EVENTS?Object.keys(t.EVENTS).map((function(e){return t.EVENTS[e]})):[];e.pluginEnabled[t.name]=!(!1===t.enabled||!1===t.config.enabled),delete t.enabled,t.methods&&(e.methods[t.name]=Object.keys(t.methods).reduce((function(e,n){var r;return e[n]=(r=t.methods[n],function(){for(var e=Array.prototype.slice.call(arguments),t=new Array(r.length),n=0;n<e.length;n++)t[n]=e[n];return t[t.length]=j,r.apply({instance:j},t)}),e}),{}),delete t.methods);var r=Object.keys(t).concat(n),i=new Set(e.events.concat(r));if(e.events=Array.from(i),e.pluginsArray=e.pluginsArray.concat(t),e.plugins[t.name])throw new Error(t.name+"AlreadyLoaded");return e.plugins[t.name]=t,e.plugins[t.name].loaded||(e.plugins[t.name].loaded=function(){return!0}),e}),{plugins:{},pluginEnabled:{},methods:{},pluginsArray:[],middlewares:[],events:[]}),s=e.storage?e.storage:{getItem:A,setItem:O,removeItem:P},c=(n=s,function(e,t,r){return t.getState("user")[e]||(r&&b(r)&&r[e]?r[e]:ie(n)[e]||A(oe(e))||null)}),u=a.plugins,h=a.events.filter((function(e){return!J.includes(e)})).sort(),f=new Set(h.concat(W).filter((function(e){return!J.includes(e)}))),p=Array.from(f).sort(),m=function(){return u},y=new Te,v=y.addMiddleware,w=y.removeMiddleware,k=y.dynamicMiddlewares,x=function(){throw new Error("Abort disabled inListener")},E=function(e){for(var t,n=Object.create(null),r=/([^&=]+)=?([^&]*)/g;t=r.exec(e);){var i=_(t[1]),o=_(t[2]);if(i)if("[]"===i.substring(i.length-2)){var a=n[i=i.substring(0,i.length-2)]||(n[i]=[]);n[i]=Array.isArray(a)?a:[],n[i].push(o)}else n[i]=""===o||o}for(var s in n){var l=s.split("[");l.length>1&&(S(n,l.map((function(e){return e.replace(/[?[\]\\ ]/g,"")})),n[s]),delete n[s])}return n}(function(e){if(e){var t=e.match(/\?(.*)/);return t&&t[1]?t[1].split("#")[0]:""}return l&&window.location.search.substring(1)}(t)),I=ie(s),T=L({},I,o,E.an_uid?{userId:E.an_uid}:{},E.an_aid?{anonymousId:E.an_aid}:{});T.anonymousId||(T.anonymousId=$());var N=L({enable:function(e,t){return new Promise((function(n){ce.dispatch({type:G.enablePlugin,plugins:Ke(e),_:{originalAction:G.enablePlugin}},n,[t])}))},disable:function(e,t){return new Promise((function(n){ce.dispatch({type:G.disablePlugin,plugins:Ke(e),_:{originalAction:G.disablePlugin}},n,[t])}))}},a.methods),z=!1,j={identify:function(e,t,n,r){try{var i=g(e)?e:null,o=b(e)?e:t,a=n||{},s=j.user();O(oe(Y),i);var l=i||o.userId||c(Y,j,o);return Promise.resolve(new Promise((function(e){ce.dispatch(L({type:G.identifyStart,userId:l,traits:o||{},options:a,anonymousId:s.anonymousId},s.id&&s.id!==i&&{previousId:s.id}),e,[t,n,r])})))}catch(e){return Promise.reject(e)}},track:function(e,t,n,r){try{var i=b(e)?e.event:e;if(!i||!g(i))throw new Error("EventMissing");var o=b(e)?e:t||{},a=b(n)?n:{};return Promise.resolve(new Promise((function(e){ce.dispatch({type:G.trackStart,event:i,properties:o,options:a,userId:c(Y,j,t),anonymousId:c(Q,j,t)},e,[t,n,r])})))}catch(e){return Promise.reject(e)}},page:function(e,t,n){try{var r=b(e)?e:{},i=b(t)?t:{};return Promise.resolve(new Promise((function(o){ce.dispatch({type:G.pageStart,properties:Ue(r),options:i,userId:c(Y,j,r),anonymousId:c(Q,j,r)},o,[e,t,n])})))}catch(e){return Promise.reject(e)}},user:function(e){if(e===Y||"id"===e)return c(Y,j);if(e===Q||"anonId"===e)return c(Q,j);var t=j.getState("user");return e?i()(t,e):t},reset:function(e){return new Promise((function(t){ce.dispatch({type:G.resetStart},t,e)}))},ready:function(e){return z&&e({plugins:N,instance:j}),j.on(G.ready,(function(t){e(t),z=!0}))},on:function(e,t){if(!e||!d(t))return!1;if(e===G.bootstrap)throw new Error(".on disabled for "+e);var n=/Start$|Start:/;if("*"===e){var r=function(e){return function(e){return function(r){return r.type.match(n)&&t({payload:r,instance:j,plugins:u}),e(r)}}},i=function(e){return function(e){return function(r){return r.type.match(n)||t({payload:r,instance:j,plugins:u}),e(r)}}};return v(r,nt),v(i,rt),function(){w(r,nt),w(i,rt)}}var o=e.match(n)?nt:rt,a=function(n){return function(n){return function(r){return r.type===e&&t({payload:r,instance:j,plugins:u,abort:x}),n(r)}}};return v(a,o),function(){return w(a,o)}},once:function(e,t){if(!e||!d(t))return!1;if(e===G.bootstrap)throw new Error(".once disabled for "+e);var n=j.on(e,(function(e){t({payload:e.payload,instance:j,plugins:u,abort:x}),n()}));return n},getState:function(e){var t=ce.getState();return e?i()(t,e):Object.assign({},t)},dispatch:function(e){var t=g(e)?{type:e}:e;if(W.includes(t.type))throw new Error("reserved action "+t.type);var n=L({},t,{_:L({originalAction:t.type},e._||{})});ce.dispatch(n)},enablePlugin:N.enable,disablePlugin:N.disable,plugins:N,storage:{getItem:s.getItem,setItem:function(e,t,n){ce.dispatch({type:G.setItemStart,key:e,value:t,options:n})},removeItem:function(e,t){ce.dispatch({type:G.removeItemStart,key:e,options:t})}},setAnonymousId:function(e,t){j.storage.setItem(X,e,t)},events:{core:W,plugins:h}},D=a.middlewares.concat([function(e){return function(e){return function(t){return t.meta||(t.meta=et()),e(t)}}},k(nt),Ee(j,m,{all:p,plugins:h}),Ie(s),ne(j),ae(j),k(rt)]),R={context:Ze,user:re(s),page:Xe,track:je,plugins:Ae(m),queue:Ce},F=U,Z=U;if(l&&e.debug){var K=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;K&&(F=K({trace:!0,traceLimit:25})),Z=function(){return 0===arguments.length?Je():b(typeof arguments[0])?Ge():Ge().apply(null,arguments)}}var ee,te=function(e){return Object.keys(e).reduce((function(t,n){return Ye.includes(n)||(t[n]=e[n]),t}),{})}(e),se=a.pluginsArray.reduce((function(e,t){var n=t.name,r=t.config,i=t.loaded,o=a.pluginEnabled[n];return e[n]={enabled:o,initialized:!!o&&Boolean(!t.initialize),loaded:Boolean(i({config:r})),config:r},e}),{}),le={context:te,user:T,plugins:se},ce=B(function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]===C&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(typeof n(void 0,{type:"@@redux/INIT"})===M||typeof n(void 0,{type:q})===M)throw new Error("reducer "+t+" "+M)}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var l=a[s],c=e[l],u=(0,n[l])(c,t);if(typeof u===M){var h=H(l,t);throw new Error(h)}i[l]=u,r=r||u!==c}return r?i:e}}(L({},R,r)),le,Z(F(V.apply(void 0,D))));ce.dispatch=(ee=ce.dispatch,function(e,t,n){var r=L({},e,{meta:et(e.meta,t,Ke(n))});return ee.apply(null,[r])});var ue=Object.keys(u);ce.dispatch({type:G.bootstrap,plugins:ue,config:te,params:E,user:T,initialUser:o,persistedUser:I});var fe=ue.filter((function(e){return a.pluginEnabled[e]})),pe=ue.filter((function(e){return!a.pluginEnabled[e]}));return ce.dispatch({type:G.registerPlugins,plugins:ue,enabled:a.pluginEnabled}),a.pluginsArray.map((function(e,t){var n=e.bootstrap,r=e.config,i=e.name;n&&d(n)&&n({instance:j,config:r,payload:e}),ce.dispatch({type:G.registerPluginType(i),name:i,enabled:a.pluginEnabled[i],plugin:e}),a.pluginsArray.length===t+1&&ce.dispatch({type:G.initializeStart,plugins:fe,disabled:pe})})),We((function(e){ce.dispatch({type:e?G.offline:G.online})})),function(e,t,n){setInterval((function(){return he(e,t,n)}),3e3)}(ce,m,j),j}var nt="before",rt="after",it="cookie",ot=ct(),at=ut,st=ut;function lt(e){return ot?ut(e,"",-1):P(e)}function ct(){if(void 0!==ot)return ot;var e="cookiecookie";try{ut(e,e),ot=-1!==document.cookie.indexOf(e),lt(e)}catch(e){ot=!1}return ot}function ut(e,t,n,r,i,o){if("undefined"!=typeof window){var a=arguments.length>1;return!1===ot&&(a?O(e,t):A(e)),a?document.cookie=e+"="+encodeURIComponent(t)+(n?"; expires="+new Date(+new Date+1e3*n).toUTCString()+(r?"; path="+r:"")+(i?"; domain="+i:"")+(o?"; secure":""):""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}}var ht="localStorage",ft=j.bind(null,"localStorage"),pt=(N("localStorage","getItem",A),N("localStorage","setItem",O),N("localStorage","removeItem",P),"sessionStorage"),dt=j.bind(null,"sessionStorage");function gt(e){var t=e;try{if("true"===(t=JSON.parse(e)))return!0;if("false"===t)return!1;if(b(t))return t;parseFloat(t)===t&&(t=parseFloat(t))}catch(e){}if(null!==t&&""!==t)return t}N("sessionStorage","getItem",A),N("sessionStorage","setItem",O),N("sessionStorage","removeItem",P);var mt=ft(),yt=dt(),vt=ct();function bt(e,t){if(e){var n=wt(t),r=!St(n),i=kt(n)?gt(localStorage.getItem(e)):void 0;if(r&&!m(i))return i;var o=xt(n)?gt(at(e)):void 0;if(r&&o)return o;var a=_t(n)?gt(sessionStorage.getItem(e)):void 0;if(r&&a)return a;var s=A(e);return r?s:{localStorage:i,sessionStorage:a,cookie:o,global:s}}}function wt(e){return e?g(e)?e:e.storage:"any"}function kt(e){return mt&&$t(e,ht)}function xt(e){return vt&&$t(e,it)}function _t(e){return yt&&$t(e,pt)}function St(e){return"*"===e||"all"===e}function $t(e,t){return"any"===e||e===t||St(e)}function Et(e,t,n){return{location:e,current:t,previous:n}}var It={setItem:function(e,t,n){if(e&&!m(t)){var r={},i=wt(n),o=JSON.stringify(t),a=!St(i);return kt(i)&&(r[ht]=Et(ht,t,gt(localStorage.getItem(e))),localStorage.setItem(e,o),a)?r[ht]:xt(i)&&(r[it]=Et(it,t,gt(at(e))),st(e,o),a)?r[it]:_t(i)&&(r[pt]=Et(pt,t,gt(sessionStorage.getItem(e))),sessionStorage.setItem(e,o),a)?r[pt]:(r[E]=Et(E,t,A(e)),O(e,t),a?r[E]:r)}},getItem:bt,removeItem:function(e,t){if(e){var n=wt(t),r=bt(e,"*"),i={};return!m(r.localStorage)&&kt(n)&&(localStorage.removeItem(e),i[ht]=r.localStorage),!m(r.cookie)&&xt(n)&&(lt(e),i[it]=r.cookie),!m(r.sessionStorage)&&_t(n)&&(sessionStorage.removeItem(e),i[pt]=r.sessionStorage),!m(r.global)&&$t(n,E)&&(P(e),i[E]=r.global),i}}};function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){Tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jt={},Lt="https://www.googletagmanager.com/gtag/js",Ct={debug_mode:!1,send_page_view:!1,anonymize_ip:!1,allow_google_signals:!0,allow_ad_personalization_signals:!0,cookie_flags:""},Mt={gtagName:"gtag",dataLayerName:"ga4DataLayer",measurementIds:[],gtagConfig:Ct};function qt(e){if(!e)throw new Error("No GA Measurement ID defined");if(Array.isArray(e))return e;if("string"==typeof e)return[e];throw new Error("GA Measurement ID must be string or array of strings")}function Dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},n=e.id,r=e.name,i=e.source,o=e.medium,a=e.content,s=e.keyword;return n&&(t.campaignId=n),r&&(t.campaignName=r),i&&(t.campaignSource=i),o&&(t.campaignMedium=o),a&&(t.campaignContent=a),s&&(t.campaignKeyword=s),t}function Rt(e){var t=document.querySelectorAll("script[src]"),n=new RegExp("^".concat(e));return Boolean(Object.values(t).filter((function(e){return n.test(e.src)})).length)}var Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0,n=qt(e.measurementIds),r=Nt(Nt({},Mt),e);return{name:"google-analytics",config:r,initialize:function(e){var t=e.config,r=e.instance,i=t.dataLayerName,o=t.customScriptSrc,a=t.gtagName,s=t.gtagConfig,l=t.debug,c=t.nonce,u=i?"&l=".concat(i):"",h=o||"".concat(Lt,"?id=").concat(n[0]).concat(u);if(!Rt(h)){var f=document.createElement("script");f.async=!0,f.src=h,c&&f.setAttribute("nonce",c),document.body.appendChild(f)}window[i]||(window[i]=window[i]||[]),window[a]||(window[a]=function(){window[i].push(arguments)}),window[a]("js",new Date);var p=Nt(Nt({},Ct),s||{});!0===l?p.debug_mode=!0:delete p.debug_mode;var d=(r.user()||{}).traits||{};Object.keys(d).length&&window[a]("set","user_properties",d);for(var g=0;g<n.length;g++)jt[n[g]]||(window[a]("config",n[g],p),jt[n[g]]=!0)},identify:function(e){var t=e.payload,r=e.config.gtagName;window[r]&&n.length&&(t.userId&&window[r]("set",{user_id:t.userId}),Object.keys(t.traits).length&&window[r]("set","user_properties",t.traits))},page:function(e){var r=e.payload,i=e.config,o=e.instance,a=i.gtagName,s=i.gtagConfig;if(window[a]&&n.length){var l=r.properties,c=l.send_to,u=o.getState("context.campaign"),h={page_title:l.title,page_location:l.url,page_path:l.path||document.location.pathname,page_hash:l.hash,page_search:l.page_search,page_referrer:l.referrer},f=Dt(u),p=o.user("userId"),d=Nt(Nt(Nt(Nt({},c?{send_to:c}:{}),h),f),p?{user_id:p}:{});s&&s.send_page_view&&0===t||window[a]("event","page_view",d),t++}},track:function(e){var t=e.payload,r=e.config,i=e.instance,o=t.properties,a=t.event,s=i.getState("context.campaign"),l=r.gtagName;if(window[l]&&n.length){var c=Dt(s),u=i.user("userId"),h=Nt(Nt(Nt({},o),c),u?{user_id:u}:{});window[l]("event",a,h)}},loaded:function(){var e=r.dataLayerName,t=r.customScriptSrc,n=e&&window[e]&&Array.prototype.push===window[e].push;return Rt(t||Lt)&&n},methods:{addTag:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window[r.gtagName]&&(window[r.gtagName]("config",e,t),n&&!n.includes(e)&&(n=n.concat(e)))},disable:function(e){for(var t=e?qt(e):n,r=0;r<n.length;r++){var i=n[r];t.includes(i)&&(window["ga-disable-".concat(i)]=!0)}},enable:function(e){for(var t=e?qt(e):n,r=0;r<n.length;r++){var i=n[r];t.includes(i)&&(window["ga-disable-".concat(i)]=!1)}}}}};class Ht{constructor(){Object.defineProperty(this,"analytics",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"initialized",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"measurementId",{enumerable:!0,configurable:!0,writable:!0,value:""})}static getInstance(){return Ht.instance||(Ht.instance=new Ht),Ht.instance}initialize(e){this.initialized||(this.measurementId=e,this.analytics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tt(Ot(Ot({},{storage:It}),e))}({app:"encipherers-whispers",plugins:[Bt({measurementIds:[this.measurementId]})]}),this.initialized=!0,console.log("[Analytics] Initialized with measurement ID:",this.measurementId))}trackPageView(e,t,n,r){if(!this.initialized)return void console.warn("[Analytics] Not initialized. Call initialize() first.");const i={};n&&(i.blog_id=n),r&&r.length>0&&(i.tags=r.join(",")),this.analytics.page({path:e,title:t,properties:i}),console.log(`[Analytics] Tracked page view: ${t} (${e})`,i)}trackEvent(e,t={}){this.initialized?(this.analytics.track(e,t),console.log(`[Analytics] Tracked event: ${e}`,t)):console.warn("[Analytics] Not initialized. Call initialize() first.")}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";class e{constructor(e){Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.params=e}static create(e){return new this(e)}getAnalyticsInfo(){return{title:document.title}}}class t{constructor(e){Object.defineProperty(this,"routes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.routes=e}parseParams(e,t){const n=e.path.split("/"),r=t.split("/");if(n.length!==r.length)return null;const i={};for(let e=0;e<n.length;e++)if(n[e].startsWith(":"))i[n[e].slice(1)]=r[e];else if(n[e]!==r[e])return null;return i}match(e){for(const t of this.routes){const n=this.parseParams(t,e);if(null!==n)return{route:t,params:n}}return null}async route(){const e=window.location.pathname,t=this.match(e);if(!t)return void(document.querySelector("#app").innerHTML="<h1>404 - Page Not Found</h1>");const r=t.route.view.create(t.params),i=await r.render(),o=document.querySelector("#app");o.innerHTML="",o.appendChild(i),window.scrollTo(0,0);try{const{AnalyticsService:t}=await Promise.resolve().then(n.bind(n,907)),i=t.getInstance(),o=r.getAnalyticsInfo();i.trackPageView(e,o.title,o.blogId,o.tags)}catch(e){console.error("[Router] Error tracking page view:",e)}}}class r extends e{render(){const e=document.createElement("div");return e.classList.add("home-page"),e.innerHTML='\n            <div class="container">\n                <h1>Welcome</h1>\n                <p>encipherer\'s whispers!</p>\n            </div>\n        ',e}}let i={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function o(e){i=e}const a=/[&<>"']/,s=new RegExp(a.source,"g"),l=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,c=new RegExp(l.source,"g"),u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h=e=>u[e];function f(e,t){if(t){if(a.test(e))return e.replace(s,h)}else if(l.test(e))return e.replace(c,h);return e}const p=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;const d=/(^|[^\[])\^/g;function g(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,r)=>(r=(r="object"==typeof r&&"source"in r?r.source:r).replace(d,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n}function m(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return null}return e}const y={exec:()=>null};function v(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function b(e,t,n){const r=e.length;if(0===r)return"";let i=0;for(;i<r;){const o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.slice(0,r-i)}function w(e,t,n,r){const i=t.href,o=t.title?f(t.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:i,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:i,title:o,text:f(a)}}class k{options;rules;lexer;constructor(e){this.options=e||i}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:b(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=b(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=b(t[0].replace(/^ *>[ \t]?/gm,""),"\n"),n=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:r,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const o=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",s="",l=!1;for(;e;){let n=!1;if(!(t=o.exec(e)))break;if(this.rules.block.hr.test(e))break;a=t[0],e=e.substring(a.length);let r=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],u=0;this.options.pedantic?(u=2,s=r.trimStart()):(u=t[2].search(/[^ ]/),u=u>4?1:u,s=r.slice(u),u+=t[1].length);let h=!1;if(!r&&/^ *$/.test(c)&&(a+=c+"\n",e=e.substring(c.length+1),n=!0),!n){const t=new RegExp(`^ {0,${Math.min(3,u-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),n=new RegExp(`^ {0,${Math.min(3,u-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),i=new RegExp(`^ {0,${Math.min(3,u-1)}}(?:\`\`\`|~~~)`),o=new RegExp(`^ {0,${Math.min(3,u-1)}}#`);for(;e;){const l=e.split("\n",1)[0];if(c=l,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),i.test(c))break;if(o.test(c))break;if(t.test(c))break;if(n.test(e))break;if(c.search(/[^ ]/)>=u||!c.trim())s+="\n"+c.slice(u);else{if(h)break;if(r.search(/[^ ]/)>=4)break;if(i.test(r))break;if(o.test(r))break;if(n.test(r))break;s+="\n"+c}h||c.trim()||(h=!0),a+=l+"\n",e=e.substring(l.length+1),r=c.slice(u)}}i.loose||(l?i.loose=!0:/\n *\n *$/.test(a)&&(l=!0));let f,p=null;this.options.gfm&&(p=/^\[[ xX]\] /.exec(s),p&&(f="[ ] "!==p[0],s=s.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:a,task:!!p,checked:f,loose:!1,text:s,tokens:[]}),i.raw+=a}i.items[i.items.length-1].raw=a.trimEnd(),i.items[i.items.length-1].text=s.trimEnd(),i.raw=i.raw.trimEnd();for(let e=0;e<i.items.length;e++)if(this.lexer.state.top=!1,i.items[e].tokens=this.lexer.blockTokens(i.items[e].text,[]),!i.loose){const t=i.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>/\n.*\n/.test(e.raw)));i.loose=n}if(i.loose)for(let e=0;e<i.items.length;e++)i.items[e].loose=!0;return i}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(t){if(!/[:|]/.test(t[2]))return;const e={type:"table",raw:t[0],header:v(t[1]).map((e=>({text:e,tokens:[]}))),align:t[2].replace(/^\||\| *$/g,"").split("|"),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){let t,n,r,i,o=e.align.length;for(t=0;t<o;t++){const n=e.align[t];n&&(/^ *-+: *$/.test(n)?e.align[t]="right":/^ *:-+: *$/.test(n)?e.align[t]="center":/^ *:-+ *$/.test(n)?e.align[t]="left":e.align[t]=null)}for(o=e.rows.length,t=0;t<o;t++)e.rows[t]=v(e.rows[t],e.header.length).map((e=>({text:e,tokens:[]})));for(o=e.header.length,n=0;n<o;n++)e.header[n].tokens=this.lexer.inline(e.header[n].text);for(o=e.rows.length,n=0;n<o;n++)for(i=e.rows[n],r=0;r<i.length;r++)i[r].tokens=this.lexer.inline(i[r].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:f(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=b(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),w(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return w(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(r&&(!r[3]||!n.match(/[\p{L}\p{N}]/u))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){const n=[...r[0]].length-1;let i,o,a=n,s=0;const l="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=l.exec(t));){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(o=[...i].length,r[3]||r[4]){a+=o;continue}if((r[5]||r[6])&&n%3&&!((n+o)%3)){s+=o;continue}if(a-=o,a>0)continue;o=Math.min(o,o+a+s);const t=[...r[0]][0].length,l=e.slice(0,n+r.index+t+o);if(Math.min(n,o)%2){const e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}const c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=f(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=f(t[1]),n="mailto:"+e):(e=f(t[1]),n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=f(t[0]),n="mailto:"+e;else{let r;do{r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0]}while(r!==t[0]);e=f(t[0]),n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let e;return e=this.lexer.state.inRawBlock?t[0]:f(t[0]),{type:"text",raw:t[0],text:e}}}}const x={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:y,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};x.def=g(x.def).replace("label",x._label).replace("title",x._title).getRegex(),x.bullet=/(?:[*+-]|\d{1,9}[.)])/,x.listItemStart=g(/^( *)(bull) */).replace("bull",x.bullet).getRegex(),x.list=g(x.list).replace(/bull/g,x.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+x.def.source+")").getRegex(),x._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",x._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,x.html=g(x.html,"i").replace("comment",x._comment).replace("tag",x._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),x.lheading=g(x.lheading).replace(/bull/g,x.bullet).getRegex(),x.paragraph=g(x._paragraph).replace("hr",x.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex(),x.blockquote=g(x.blockquote).replace("paragraph",x.paragraph).getRegex(),x.normal={...x},x.gfm={...x.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},x.gfm.table=g(x.gfm.table).replace("hr",x.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex(),x.gfm.paragraph=g(x._paragraph).replace("hr",x.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",x.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x._tag).getRegex(),x.pedantic={...x.normal,html:g("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",x._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:y,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:g(x.normal._paragraph).replace("hr",x.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",x.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const _={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:y,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:y,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};_.punctuation=g(_.punctuation,"u").replace(/punctuation/g,_._punctuation).getRegex(),_.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,_.anyPunctuation=/\\[punct]/g,_._escapes=/\\([punct])/g,_._comment=g(x._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),_.emStrong.lDelim=g(_.emStrong.lDelim,"u").replace(/punct/g,_._punctuation).getRegex(),_.emStrong.rDelimAst=g(_.emStrong.rDelimAst,"gu").replace(/punct/g,_._punctuation).getRegex(),_.emStrong.rDelimUnd=g(_.emStrong.rDelimUnd,"gu").replace(/punct/g,_._punctuation).getRegex(),_.anyPunctuation=g(_.anyPunctuation,"gu").replace(/punct/g,_._punctuation).getRegex(),_._escapes=g(_._escapes,"gu").replace(/punct/g,_._punctuation).getRegex(),_._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,_._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,_.autolink=g(_.autolink).replace("scheme",_._scheme).replace("email",_._email).getRegex(),_._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,_.tag=g(_.tag).replace("comment",_._comment).replace("attribute",_._attribute).getRegex(),_._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,_._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,_._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,_.link=g(_.link).replace("label",_._label).replace("href",_._href).replace("title",_._title).getRegex(),_.reflink=g(_.reflink).replace("label",_._label).replace("ref",x._label).getRegex(),_.nolink=g(_.nolink).replace("ref",x._label).getRegex(),_.reflinkSearch=g(_.reflinkSearch,"g").replace("reflink",_.reflink).replace("nolink",_.nolink).getRegex(),_.normal={..._},_.pedantic={..._.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:g(/^!?\[(label)\]\((.*?)\)/).replace("label",_._label).getRegex(),reflink:g(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_._label).getRegex()},_.gfm={..._.normal,escape:g(_.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},_.gfm.url=g(_.gfm.url,"i").replace("email",_.gfm._extended_email).getRegex(),_.breaks={..._.gfm,br:g(_.br).replace("{2,}","*").getRegex(),text:g(_.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class S{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||i,this.options.tokenizer=this.options.tokenizer||new k,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:x.normal,inline:_.normal};this.options.pedantic?(t.block=x.pedantic,t.inline=_.pedantic):this.options.gfm&&(t.block=x.gfm,this.options.breaks?t.inline=_.breaks:t.inline=_.gfm),this.tokenizer.rules=t}static get rules(){return{block:x,inline:_}}static lex(e,t){return new S(t).lex(e)}static lexInline(e,t){return new S(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,r,i,o;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(i=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i)))r=t[t.length-1],o&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),o=i.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,i,o,a,s,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.anyPunctuation.exec(l));)l=l.slice(0,o.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(a||(s=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,s))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e))){if(i=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(i))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(s=n.raw.slice(-1)),a=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class ${options;constructor(e){this.options=e||i}code(e,t,n){const r=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="language-'+f(r)+'">'+(n?e:f(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:f(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,n){return`<h${t}>${e}</h${t}>\n`}hr(){return"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e,t,n){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){const r=m(e);if(null===r)return n;let i='<a href="'+(e=r)+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>",i}image(e,t,n){const r=m(e);if(null===r)return n;let i=`<img src="${e=r}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=">",i}text(e){return e}}class E{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class I{options;renderer;textRenderer;constructor(e){this.options=e||i,this.options.renderer=this.options.renderer||new $,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new E}static parse(e,t){return new I(t).parse(e)}static parseInline(e,t){return new I(t).parseInline(e)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const e=i,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}switch(i.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const e=i;n+=this.renderer.heading(this.parseInline(e.tokens),e.depth,this.parseInline(e.tokens,this.textRenderer).replace(p,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")));continue}case"code":{const e=i;n+=this.renderer.code(e.text,e.lang,!!e.escaped);continue}case"table":{const e=i;let t="",r="";for(let t=0;t<e.header.length;t++)r+=this.renderer.tablecell(this.parseInline(e.header[t].tokens),{header:!0,align:e.align[t]});t+=this.renderer.tablerow(r);let o="";for(let t=0;t<e.rows.length;t++){const n=e.rows[t];r="";for(let t=0;t<n.length;t++)r+=this.renderer.tablecell(this.parseInline(n[t].tokens),{header:!1,align:e.align[t]});o+=this.renderer.tablerow(r)}n+=this.renderer.table(t,o);continue}case"blockquote":{const e=i,t=this.parse(e.tokens);n+=this.renderer.blockquote(t);continue}case"list":{const e=i,t=e.ordered,r=e.start,o=e.loose;let a="";for(let t=0;t<e.items.length;t++){const n=e.items[t],r=n.checked,i=n.task;let s="";if(n.task){const e=this.renderer.checkbox(!!r);o?n.tokens.length>0&&"paragraph"===n.tokens[0].type?(n.tokens[0].text=e+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&"text"===n.tokens[0].tokens[0].type&&(n.tokens[0].tokens[0].text=e+" "+n.tokens[0].tokens[0].text)):n.tokens.unshift({type:"text",text:e+" "}):s+=e+" "}s+=this.parse(n.tokens,o),a+=this.renderer.listitem(s,i,!!r)}n+=this.renderer.list(a,t,r);continue}case"html":{const e=i;n+=this.renderer.html(e.text,e.block);continue}case"paragraph":{const e=i;n+=this.renderer.paragraph(this.parseInline(e.tokens));continue}case"text":{let o=i,a=o.tokens?this.parseInline(o.tokens):o.text;for(;r+1<e.length&&"text"===e[r+1].type;)o=e[++r],a+="\n"+(o.tokens?this.parseInline(o.tokens):o.text);n+=t?this.renderer.paragraph(a):a;continue}default:{const e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const e=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=e||"";continue}}switch(i.type){case"escape":{const e=i;n+=t.text(e.text);break}case"html":{const e=i;n+=t.html(e.text);break}case"link":{const e=i;n+=t.link(e.href,e.title,this.parseInline(e.tokens,t));break}case"image":{const e=i;n+=t.image(e.href,e.title,e.text);break}case"strong":{const e=i;n+=t.strong(this.parseInline(e.tokens,t));break}case"em":{const e=i;n+=t.em(this.parseInline(e.tokens,t));break}case"codespan":{const e=i;n+=t.codespan(e.text);break}case"br":n+=t.br();break;case"del":{const e=i;n+=t.del(this.parseInline(e.tokens,t));break}case"text":{const e=i;n+=t.text(e.text);break}default:{const e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}}class T{options;constructor(e){this.options=e||i}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}const A=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#e(S.lex,I.parse);parseInline=this.#e(S.lexInline,I.parseInline);Parser=I;Renderer=$;TextRenderer=E;Lexer=S;Tokenizer=k;Hooks=T;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{const e=r;for(const r of e.header)n=n.concat(this.walkTokens(r.tokens,t));for(const r of e.rows)for(const e of r)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=r;n=n.concat(this.walkTokens(e.items,t));break}default:{const e=r;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((r=>{n=n.concat(this.walkTokens(e[r],t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new $(this.defaults);for(const n in e.renderer){const r=e.renderer[n],i=n,o=t[i];t[i]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=o.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new k(this.defaults);for(const n in e.tokenizer){const r=e.tokenizer[n],i=n,o=t[i];t[i]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=o.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new T;for(const n in e.hooks){const r=e.hooks[n],i=n,o=t[i];T.passThroughHooks.has(n)?t[i]=e=>{if(this.defaults.async)return Promise.resolve(r.call(t,e)).then((e=>o.call(t,e)));const n=r.call(t,e);return o.call(t,n)}:t[i]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=o.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return S.lex(e,t??this.defaults)}parser(e,t){return I.parse(e,t??this.defaults)}#e(e,t){return(n,r)=>{const i={...r},o={...this.defaults,...i};!0===this.defaults.async&&!1===i.async&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const a=this.#t(!!o.silent,!!o.async);if(null==n)return a(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then((t=>e(t,o))).then((e=>o.walkTokens?Promise.all(this.walkTokens(e,o.walkTokens)).then((()=>e)):e)).then((e=>t(e,o))).then((e=>o.hooks?o.hooks.postprocess(e):e)).catch(a);try{o.hooks&&(n=o.hooks.preprocess(n));const r=e(n,o);o.walkTokens&&this.walkTokens(r,o.walkTokens);let i=t(r,o);return o.hooks&&(i=o.hooks.postprocess(i)),i}catch(e){return a(e)}}}#t(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+f(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function O(e,t){return A.parse(e,t)}O.options=O.setOptions=function(e){return A.setOptions(e),O.defaults=A.defaults,o(O.defaults),O},O.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},O.defaults=i,O.use=function(...e){return A.use(...e),O.defaults=A.defaults,o(O.defaults),O},O.walkTokens=function(e,t){return A.walkTokens(e,t)},O.parseInline=A.parseInline,O.Parser=I,O.parser=I.parse,O.Renderer=$,O.TextRenderer=E,O.Lexer=S,O.lexer=S.lex,O.Tokenizer=k,O.Hooks=T,O.parse=O,O.options,O.setOptions,O.use,O.walkTokens,O.parseInline,I.parse,S.lex;class P{constructor(){Object.defineProperty(this,"notes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"initialized",{enumerable:!0,configurable:!0,writable:!0,value:!1})}static getInstance(){return P.instance||(P.instance=new P),P.instance}async initialize(){if(!this.initialized)try{const e=await fetch("/data/notes.json"),t=await e.json();this.notes=await Promise.all(t.notes.map((async e=>{try{const t=await fetch(`/data/${e.contentPath}`);if(!t.ok)throw new Error(`Failed to load content for note ${e.id}`);const n=await t.text();return{...e,content:n}}catch(t){return console.error(`Error loading content for note ${e.id}:`,t),{...e,content:"Content could not be loaded."}}}))),this.initialized=!0}catch(e){console.error("Error loading notes:",e),this.notes=[]}}getAllNotes(){return[...this.notes].sort(((e,t)=>new Date(t.publishDate).getTime()-new Date(e.publishDate).getTime()))}getNoteById(e){return this.notes.find((t=>t.id===e))}getNoteByBlogLink(e){return this.notes.find((t=>t.blogLink===e))}getUrlFromNote(e){return`note/${e.blogLink}`}async getNotesByTags(e){return await this.initialize(),this.notes.filter((t=>e.every((e=>t.tags.includes(e))))).sort(((e,t)=>new Date(t.publishDate).getTime()-new Date(e.publishDate).getTime()))}async getNotesByTag(e){return this.getNotesByTags([e])}getAdjacentNotes(e){const t=this.getAllNotes(),n=t.findIndex((t=>t.id===e.id));return{previous:n<t.length-1?t[n+1]:null,next:n>0?t[n-1]:null}}parseMarkdown(e){return O(e)}async getTagFrequencies(){await this.initialize();const e=new Map;return this.notes.forEach((t=>{t.tags?.forEach((t=>{e.set(t,(e.get(t)||0)+1)}))})),e}}function N(){}function z(e){return null==e?N:function(){return this.querySelector(e)}}function j(){return[]}function L(e){return null==e?j:function(){return this.querySelectorAll(e)}}function C(e){return function(){return this.matches(e)}}function M(e){return function(t){return t.matches(e)}}var q=Array.prototype.find;function D(){return this.firstElementChild}var R=Array.prototype.filter;function B(){return Array.from(this.children)}function H(e){return new Array(e.length)}function U(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function V(e,t,n,r,i,o){for(var a,s=0,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new U(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function X(e,t,n,r,i,o,a){var s,l,c,u=new Map,h=t.length,f=o.length,p=new Array(h);for(s=0;s<h;++s)(l=t[s])&&(p[s]=c=a.call(l,l.__data__,s,t)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<f;++s)c=a.call(e,o[s],s,o)+"",(l=u.get(c))?(r[s]=l,l.__data__=o[s],u.delete(c)):n[s]=new U(e,o[s]);for(s=0;s<h;++s)(l=t[s])&&u.get(p[s])===l&&(i[s]=l)}function F(e){return e.__data__}function Z(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Y(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}U.prototype={constructor:U,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Q="http://www.w3.org/1999/xhtml";const W={svg:"http://www.w3.org/2000/svg",xhtml:Q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function J(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),W.hasOwnProperty(t)?{space:W[t],local:e}:e}function G(e){return function(){this.removeAttribute(e)}}function K(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ee(e,t){return function(){this.setAttribute(e,t)}}function te(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ne(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function re(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ie(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function oe(e){return function(){this.style.removeProperty(e)}}function ae(e,t,n){return function(){this.style.setProperty(e,t,n)}}function se(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function le(e,t){return e.style.getPropertyValue(t)||ie(e).getComputedStyle(e,null).getPropertyValue(t)}function ce(e){return function(){delete this[e]}}function ue(e,t){return function(){this[e]=t}}function he(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function fe(e){return e.trim().split(/^|\s+/)}function pe(e){return e.classList||new de(e)}function de(e){this._node=e,this._names=fe(e.getAttribute("class")||"")}function ge(e,t){for(var n=pe(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function me(e,t){for(var n=pe(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function ye(e){return function(){ge(this,e)}}function ve(e){return function(){me(this,e)}}function be(e,t){return function(){(t.apply(this,arguments)?ge:me)(this,e)}}function we(){this.textContent=""}function ke(e){return function(){this.textContent=e}}function xe(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function _e(){this.innerHTML=""}function Se(e){return function(){this.innerHTML=e}}function $e(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Ee(){this.nextSibling&&this.parentNode.appendChild(this)}function Ie(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Te(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Q&&t.documentElement.namespaceURI===Q?t.createElement(e):t.createElementNS(n,e)}}function Ae(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Oe(e){var t=J(e);return(t.local?Ae:Te)(t)}function Pe(){return null}function Ne(){var e=this.parentNode;e&&e.removeChild(this)}function ze(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function je(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Le(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Ce(e,t,n){return function(){var r,i=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t);this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Me(e,t,n){var r=ie(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function qe(e,t){return function(){return Me(this,e,t)}}function De(e,t){return function(){return Me(this,e,t.apply(this,arguments))}}de.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Re=[null];function Be(e,t){this._groups=e,this._parents=t}function He(){return new Be([[document.documentElement]],Re)}Be.prototype=He.prototype={constructor:Be,select:function(e){"function"!=typeof e&&(e=z(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=e.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new Be(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}(e):L(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(e.call(a,a.__data__,c,s)),i.push(a));return new Be(r,i)},selectChild:function(e){return this.select(null==e?D:function(e){return function(){return q.call(this.children,e)}}("function"==typeof e?e:M(e)))},selectChildren:function(e){return this.selectAll(null==e?B:function(e){return function(){return R.call(this.children,e)}}("function"==typeof e?e:M(e)))},filter:function(e){"function"!=typeof e&&(e=C(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new Be(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,F);var n,r=t?X:V,i=this._parents,o=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var h=i[u],f=o[u],p=f.length,d=Z(e.call(h,h&&h.__data__,u,i)),g=d.length,m=l[u]=new Array(g),y=s[u]=new Array(g);r(h,f,m,y,c[u]=new Array(p),d,t);for(var v,b,w=0,k=0;w<g;++w)if(v=m[w]){for(w>=k&&(k=w+1);!(b=y[k])&&++k<g;);v._next=b||null}}return(s=new Be(s,i))._enter=l,s._exit=c,s},enter:function(){return new Be(this._enter||this._groups.map(H),this._parents)},exit:function(){return new Be(this._exit||this._groups.map(H),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c,u=n[l],h=r[l],f=u.length,p=s[l]=new Array(f),d=0;d<f;++d)(c=u[d]||h[d])&&(p[d]=c);for(;l<i;++l)s[l]=n[l];return new Be(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Y);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new Be(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=J(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?K:G:"function"==typeof t?n.local?re:ne:n.local?te:ee)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?oe:"function"==typeof t?se:ae)(e,t,null==n?"":n)):le(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?ce:"function"==typeof t?he:ue)(e,t)):this.node()[e]},classed:function(e,t){var n=fe(e+"");if(arguments.length<2){for(var r=pe(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?be:t?ye:ve)(n,t))},text:function(e){return arguments.length?this.each(null==e?we:("function"==typeof e?xe:ke)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?_e:("function"==typeof e?$e:Se)(e)):this.node().innerHTML},raise:function(){return this.each(Ee)},lower:function(){return this.each(Ie)},append:function(e){var t="function"==typeof e?e:Oe(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:Oe(e),r=null==t?Pe:"function"==typeof t?t:z(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ne)},clone:function(e){return this.select(e?je:ze)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?Ce:Le,r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?De:qe)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const Ue=He;var Ve={value:()=>{}};function Xe(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Fe(r)}function Fe(e){this._=e}function Ze(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function Ye(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Ve,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Fe.prototype=Xe.prototype={constructor:Fe,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=o[a]).type)i[n]=Ye(i[n],e.name,t);else if(null==t)for(n in i)i[n]=Ye(i[n],e.name,null);return this}for(;++a<s;)if((n=(e=o[a]).type)&&(n=Ze(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Fe(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const Qe=Xe;var We,Je,Ge=0,Ke=0,et=0,tt=0,nt=0,rt=0,it="object"==typeof performance&&performance.now?performance:Date,ot="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function at(){return nt||(ot(st),nt=it.now()+rt)}function st(){nt=0}function lt(){this._call=this._time=this._next=null}function ct(e,t,n){var r=new lt;return r.restart(e,t,n),r}function ut(){nt=(tt=it.now())+rt,Ge=Ke=0;try{!function(){at(),++Ge;for(var e,t=We;t;)(e=nt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ge}()}finally{Ge=0,function(){for(var e,t,n=We,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:We=t);Je=e,ft(r)}(),nt=0}}function ht(){var e=it.now(),t=e-tt;t>1e3&&(rt-=t,tt=e)}function ft(e){Ge||(Ke&&(Ke=clearTimeout(Ke)),e-nt>24?(e<1/0&&(Ke=setTimeout(ut,e-it.now()-rt)),et&&(et=clearInterval(et))):(et||(tt=it.now(),et=setInterval(ht,1e3)),Ge=1,ot(ut)))}function pt(e,t,n){var r=new lt;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}lt.prototype=ct.prototype={constructor:lt,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?at():+n)+(null==t?0:+t),this._next||Je===this||(Je?Je._next=this:We=this,Je=this),this._call=e,this._time=n,ft()},stop:function(){this._call&&(this._call=null,this._time=1/0,ft())}};var dt=Qe("start","end","cancel","interrupt"),gt=[];function mt(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(l){var c,u,h,f;if(1!==n.state)return s();for(c in i)if((f=i[c]).name===n.name){if(3===f.state)return pt(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[c]):+c<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[c])}if(pt((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=f);r.length=u+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=ct((function(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:i,on:dt,tween:gt,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function yt(e,t){var n=bt(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function vt(e,t){var n=bt(e,t);if(n.state>3)throw new Error("too late; already running");return n}function bt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function wt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var kt,xt=180/Math.PI,_t={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function St(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*xt,skewX:Math.atan(l)*xt,scaleX:a,scaleY:s}}function $t(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],l=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:wt(e,i)},{i:l-2,x:wt(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:wt(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,l),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:wt(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,l),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:wt(e,n)},{i:s-2,x:wt(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var Et=$t((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?_t:St(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),It=$t((function(e){return null==e?_t:(kt||(kt=document.createElementNS("http://www.w3.org/2000/svg","g")),kt.setAttribute("transform",e),(e=kt.transform.baseVal.consolidate())?St((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):_t)}),", ",")",")");function Tt(e,t){var n,r;return function(){var i=vt(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}function At(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=vt(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function Ot(e,t,n){var r=e._id;return e.each((function(){var e=vt(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return bt(e,r).value[t]}}function Pt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Nt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function zt(){}var jt=.7,Lt=1/jt,Ct="\\s*([+-]?\\d+)\\s*",Mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dt=/^#([0-9a-f]{3,8})$/,Rt=new RegExp(`^rgb\\(${Ct},${Ct},${Ct}\\)$`),Bt=new RegExp(`^rgb\\(${qt},${qt},${qt}\\)$`),Ht=new RegExp(`^rgba\\(${Ct},${Ct},${Ct},${Mt}\\)$`),Ut=new RegExp(`^rgba\\(${qt},${qt},${qt},${Mt}\\)$`),Vt=new RegExp(`^hsl\\(${Mt},${qt},${qt}\\)$`),Xt=new RegExp(`^hsla\\(${Mt},${qt},${qt},${Mt}\\)$`),Ft={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Zt(){return this.rgb().formatHex()}function Yt(){return this.rgb().formatRgb()}function Qt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Dt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Wt(t):3===n?new Kt(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Jt(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Jt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Rt.exec(e))?new Kt(t[1],t[2],t[3],1):(t=Bt.exec(e))?new Kt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Ht.exec(e))?Jt(t[1],t[2],t[3],t[4]):(t=Ut.exec(e))?Jt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Vt.exec(e))?an(t[1],t[2]/100,t[3]/100,1):(t=Xt.exec(e))?an(t[1],t[2]/100,t[3]/100,t[4]):Ft.hasOwnProperty(e)?Wt(Ft[e]):"transparent"===e?new Kt(NaN,NaN,NaN,0):null}function Wt(e){return new Kt(e>>16&255,e>>8&255,255&e,1)}function Jt(e,t,n,r){return r<=0&&(e=t=n=NaN),new Kt(e,t,n,r)}function Gt(e,t,n,r){return 1===arguments.length?((i=e)instanceof zt||(i=Qt(i)),i?new Kt((i=i.rgb()).r,i.g,i.b,i.opacity):new Kt):new Kt(e,t,n,null==r?1:r);var i}function Kt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function en(){return`#${on(this.r)}${on(this.g)}${on(this.b)}`}function tn(){const e=nn(this.opacity);return`${1===e?"rgb(":"rgba("}${rn(this.r)}, ${rn(this.g)}, ${rn(this.b)}${1===e?")":`, ${e})`}`}function nn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function rn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function on(e){return((e=rn(e))<16?"0":"")+e.toString(16)}function an(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ln(e,t,n,r)}function sn(e){if(e instanceof ln)return new ln(e.h,e.s,e.l,e.opacity);if(e instanceof zt||(e=Qt(e)),!e)return new ln;if(e instanceof ln)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new ln(a,s,l,e.opacity)}function ln(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function cn(e){return(e=(e||0)%360)<0?e+360:e}function un(e){return Math.max(0,Math.min(1,e||0))}function hn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function fn(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}Pt(zt,Qt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Zt,formatHex:Zt,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return sn(this).formatHsl()},formatRgb:Yt,toString:Yt}),Pt(Kt,Gt,Nt(zt,{brighter(e){return e=null==e?Lt:Math.pow(Lt,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?jt:Math.pow(jt,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kt(rn(this.r),rn(this.g),rn(this.b),nn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:en,formatHex:en,formatHex8:function(){return`#${on(this.r)}${on(this.g)}${on(this.b)}${on(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:tn,toString:tn})),Pt(ln,(function(e,t,n,r){return 1===arguments.length?sn(e):new ln(e,t,n,null==r?1:r)}),Nt(zt,{brighter(e){return e=null==e?Lt:Math.pow(Lt,e),new ln(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?jt:Math.pow(jt,e),new ln(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Kt(hn(e>=240?e-240:e+120,i,r),hn(e,i,r),hn(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ln(cn(this.h),un(this.s),un(this.l),nn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nn(this.opacity);return`${1===e?"hsl(":"hsla("}${cn(this.h)}, ${100*un(this.s)}%, ${100*un(this.l)}%${1===e?")":`, ${e})`}`}}));const pn=e=>()=>e;function dn(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):pn(isNaN(e)?t:e)}const gn=function e(t){var n=function(e){return 1==(e=+e)?dn:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):pn(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=Gt(e)).r,(t=Gt(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=dn(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function mn(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Gt(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}mn((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return fn((n-r/t)*t,a,i,o,s)}})),mn((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return fn((n-r/t)*t,i,o,a,s)}}));var yn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vn=new RegExp(yn.source,"g");function bn(e,t){var n,r,i,o=yn.lastIndex=vn.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=yn.exec(e))&&(r=vn.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:wt(n,r)})),o=vn.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function wn(e,t){var n;return("number"==typeof t?wt:t instanceof Qt?gn:(n=Qt(t))?(t=n,gn):bn)(e,t)}function kn(e){return function(){this.removeAttribute(e)}}function xn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _n(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function Sn(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function $n(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttribute(e)}}function En(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttributeNS(e.space,e.local)}}function In(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Tn(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function An(e,t){return function(){yt(this,e).delay=+t.apply(this,arguments)}}function On(e,t){return t=+t,function(){yt(this,e).delay=t}}function Pn(e,t){return function(){vt(this,e).duration=+t.apply(this,arguments)}}function Nn(e,t){return t=+t,function(){vt(this,e).duration=t}}var zn=Ue.prototype.constructor;function jn(e){return function(){this.style.removeProperty(e)}}var Ln=0;function Cn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Mn(){return++Ln}var qn=Ue.prototype;Cn.prototype=function(e){return Ue().transition(e)}.prototype={constructor:Cn,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=z(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,h=o[a]=new Array(u),f=0;f<u;++f)(s=c[f])&&(l=e.call(s,s.__data__,f,c))&&("__data__"in s&&(l.__data__=s.__data__),h[f]=l,mt(h[f],t,n,f,h,bt(s,n)));return new Cn(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=L(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var f,p=e.call(l,l.__data__,h,c),d=bt(l,n),g=0,m=p.length;g<m;++g)(f=p[g])&&mt(f,t,n,g,p,d);o.push(p),a.push(l)}return new Cn(o,a,t,n)},selectChild:qn.selectChild,selectChildren:qn.selectChildren,filter:function(e){"function"!=typeof e&&(e=C(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new Cn(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=t[s],u=n[s],h=c.length,f=a[s]=new Array(h),p=0;p<h;++p)(l=c[p]||u[p])&&(f[p]=l);for(;s<r;++s)a[s]=t[s];return new Cn(a,this._parents,this._name,this._id)},selection:function(){return new zn(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Mn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=bt(a,t);mt(a,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Cn(r,this._parents,e,n)},call:qn.call,nodes:qn.nodes,node:qn.node,size:qn.size,empty:qn.empty,each:qn.each,on:function(e,t){var n=this._id;return arguments.length<2?bt(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?yt:vt;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}(n,e,t))},attr:function(e,t){var n=J(e),r="transform"===n?It:wn;return this.attrTween(e,"function"==typeof t?(n.local?En:$n)(n,r,Ot(this,"attr."+e,t)):null==t?(n.local?xn:kn)(n):(n.local?Sn:_n)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=J(e);return this.tween(n,(r.local?In:Tn)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Et:wn;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=le(this,e),a=(this.style.removeProperty(e),le(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}(e,r)).on("end.style."+e,jn(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var a=le(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=le(this,e)),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s))}}(e,r,Ot(this,"style."+e,t))).each(function(e,t){var n,r,i,o,a="style."+t,s="end."+a;return function(){var l=vt(this,e),c=l.on,u=null==l.value[a]?o||(o=jn(t)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var a=le(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,o,n)),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Ot(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=bt(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?Tt:At)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?An:On)(t,e)):bt(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Pn:Nn)(t,e)):bt(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){vt(this,e).ease=t}}(t,e)):bt(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;vt(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=vt(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t})),0===i&&o()}))},[Symbol.iterator]:qn[Symbol.iterator]};var Dn={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Rn(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}Ue.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}}(this,e)}))},Ue.prototype.transition=function(e){var t,n;e instanceof Cn?(t=e._id,e=e._name):(t=Mn(),(n=Dn).time=at(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&mt(a,e,t,c,s,n||Rn(a,t));return new Cn(r,this._parents,e,t)};const{abs:Bn,max:Hn,min:Un}=Math;function Vn(e){return{type:e}}["w","e"].map(Vn),["n","s"].map(Vn),["n","w","e","s","nw","ne","sw","se"].map(Vn);const Xn=function(e){for(var t=new Array(10),n=0;n<10;)t[n]="#"+e.slice(6*n,6*++n);return t}("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Fn(e){return"string"==typeof e?new Be([[document.querySelector(e)]],[document.documentElement]):new Be([[e]],Re)}function Zn(e,t,n){this.k=e,this.x=t,this.y=n}Zn.prototype={constructor:Zn,scale:function(e){return 1===e?this:new Zn(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Zn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Zn(1,0,0),Zn.prototype;var Yn=n(84),Qn=n.n(Yn);class Wn{constructor(e,t,n,r){Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onTagClick",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tagData",{enumerable:!0,configurable:!0,writable:!0,value:null}),this.container=e,this.width=t,this.height=n,this.onTagClick=r,window.addEventListener("resize",this.debounce((()=>{this.width=this.container.clientWidth,this.tagData&&this.render(this.tagData)}),250))}debounce(e,t){let n;return(...r)=>{clearTimeout(n),n=setTimeout((()=>e.apply(this,r)),t)}}async render(e){this.tagData=e,this.container.innerHTML="";const t=Array.from(e.entries()).sort(((e,t)=>t[1]-e[1])).slice(0,100).map((([e,t])=>({text:e,size:Math.min(8+6*t,40)})));Qn()().size([this.width,this.height]).words(t).padding(5).rotate((()=>0)).font("Arial").fontSize((e=>e.size||10)).on("end",(e=>this.draw(e))).start()}draw(e){const t=Fn(this.container).append("svg").attr("width",this.width).attr("height",this.height).append("g").attr("transform",`translate(${this.width/2},${this.height/2})`),n=this;t.selectAll("text").data(e).enter().append("text").style("font-size",(e=>`${e.size}px`)).style("font-family","Arial").style("cursor","pointer").style("fill",((e,t)=>Xn[t%10])).attr("text-anchor","middle").attr("transform",(e=>`translate(${e.x},${e.y})`)).each((function(e){const t=Fn(this);t.text(e.text),t.append("tspan").attr("dx","2").attr("dy","-0.6em").style("font-size","0.5em").text(n.tagData?.get(e.text)||0)})).on("click",((e,t)=>{e.preventDefault(),this.onTagClick(t.text)})).on("mouseover",(function(){Fn(this).style("opacity",.7)})).on("mouseout",(function(){Fn(this).style("opacity",1)}))}}class Jn extends e{constructor(e){super(e),Object.defineProperty(this,"noteService",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.noteService=P.getInstance()}createPinnedNoteCard(e){const t=this.createNoteCard(e);t.classList.add("pinned-note");const n=document.createElement("span");return n.classList.add("pin-icon"),n.textContent="📌",t.insertBefore(n,t.firstChild),t}createNoteCard(e){const t=document.createElement("div");return t.classList.add("note-card"),t.innerHTML=`\n      <h2><a href="/${this.noteService.getUrlFromNote(e)}" class="note-link" data-link>${e.title}</a></h2>\n      <div class="note-meta">\n        <div class="meta-top">\n          <span class="reading-time">⌛ ${e.readingTime}</span>\n          <span class="publish-date">🗓️ ${e.publishDate}</span>\n          ${e.githubLink?`<a href="${e.githubLink}" class="github-link" target="_blank" aria-label="View on GitHub"></a>`:""}\n          ${e.links&&e.links.length>0?e.links.map((e=>`<a href="${e.url}" class="external-link" target="_blank" aria-label="${e.description}">🔗 ${e.description}</a>`)).join(""):""}\n        </div>\n        <div class="note-tags">\n          ${(e.tags||[]).map((e=>`<a href="/tag/${e}" class="tag" data-link>${e}</a>`)).join("")}\n        </div>\n      </div>\n    `,t}setupCarousel(e,t){let n=0;const r=t.length,i=()=>{const t=100*-n,r=e.querySelector(".pinned-notes-container");r&&(r.style.transform=`translateX(${t}%)`),e.querySelectorAll(".carousel-dot").forEach(((e,t)=>{t===n?e.classList.add("active"):e.classList.remove("active")}))},o=()=>{n=(n+1)%r,i()};e.innerHTML=`\n      <div class="carousel-container">\n        <button class="carousel-arrow prev" aria-label="Previous note">❮</button>\n        <div class="pinned-notes-viewport">\n          <div class="pinned-notes-container">\n            ${t.map((e=>this.createPinnedNoteCard(e).outerHTML)).join("")}\n          </div>\n        </div>\n        <button class="carousel-arrow next" aria-label="Next note">❯</button>\n        <div class="carousel-dots">\n          ${t.map(((e,t)=>`<button class="carousel-dot${0===t?" active":""}" aria-label="Go to note ${t+1}"></button>`)).join("")}\n        </div>\n      </div>\n    `;const a=e.querySelector(".carousel-arrow.prev"),s=e.querySelector(".carousel-arrow.next"),l=e.querySelectorAll(".carousel-dot");a?.addEventListener("click",(()=>{n=(n-1+r)%r,i()})),s?.addEventListener("click",o),l.forEach(((e,t)=>{e.addEventListener("click",(()=>{n=t,i()}))}));let c=null;const u=()=>{c||(c=window.setInterval(o,5e3))},h=e.querySelector(".carousel-container");h?.addEventListener("mouseenter",(()=>{c&&(clearInterval(c),c=null)})),h?.addEventListener("mouseleave",u),u()}async render(){const e=document.createElement("div");e.classList.add("notes-page"),await this.noteService.initialize();const t=this.noteService.getAllNotes(),n=t.filter((e=>e.pinned));e.innerHTML=`\n      <div class="container">\n        <h1>Notes</h1>\n        <div class="tag-cloud-container">\n          <div class="loading">Loading tags...</div>\n        </div>\n        ${n.length>0?'<div class="pinned-notes-bar"></div>':""}\n        <div class="notes-grid"></div>\n        <button class="back-to-top" aria-label="Back to top">↑</button>\n      </div>\n    `;const r=e.querySelector(".pinned-notes-bar");r&&n.length>0&&this.setupCarousel(r,n);const i=e.querySelector(".notes-grid");t.forEach((e=>{i.appendChild(this.createNoteCard(e))}));const o=e.querySelector(".back-to-top");return window.addEventListener("scroll",(()=>{window.scrollY>300?o.classList.add("visible"):o.classList.remove("visible")})),o.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})})),setTimeout((async()=>{try{const t=e.querySelector(".tag-cloud-container");if(t){const e=await this.noteService.getTagFrequencies(),n=new Wn(t,t.clientWidth,200,(e=>{window.location.href=`/tag/${e}`}));await n.render(e)}}catch(t){console.error("Error setting up tag cloud:",t);const n=e.querySelector(".tag-cloud-container");n&&(n.innerHTML='<div class="error">Failed to load tags</div>')}}),0),e}}class Gn extends e{constructor(e){super(e),Object.defineProperty(this,"noteService",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scrollVal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.noteService=P.getInstance(),this.scrollVal=500}getAnalyticsInfo(){try{const e=this.noteService.getNoteByBlogLink(this.params.bloglink);if(e)return{title:e.title,blogId:e.id,tags:e.tags}}catch(e){console.error("Error getting analytics info:",e)}return{title:document.title}}async render(){const e=document.createElement("div");e.classList.add("note-page"),e.innerHTML='\n            <div class="container with-toc">\n                <a href="/notes" class="back-to-notes floating visible" data-link>← Back to all notes</a>\n                <div id="note-content"></div>\n            </div>\n        ';try{await this.noteService.initialize();const t=this.noteService.getNoteByBlogLink(this.params.bloglink);if(!t){const t=e.querySelector("#note-content");return t&&(t.innerHTML="\n                        <h1>Note not found</h1>\n                        <p>The requested note could not be found. Please check the URL and try again.</p>\n                    "),e}const n=e.querySelector("#note-content");if(n){n.innerHTML=`\n                    <div class="note-header">\n                        <div class="note-header-top">\n                            <h1>${t.title}</h1>\n                        </div>\n                        <button class="copy-link-btn" onclick="copyNoteLink('${t.id}')">Copy Link</button>\n                            <div class="note-meta">\n                            <span class="reading-time">⌛ ${t.readingTime}</span>\n                            <span class="publish-date">🗓️ ${t.publishDate}</span>\n                            <div class="note-tags">\n                                ${t.tags.map((e=>`<a href="/tag/${e}" class="tag" data-link>${e}</a>`)).join("")}\n                            </div>\n                            ${t.githubLink?`<a href="${t.githubLink}" class="github-link" target="_blank" aria-label="View on GitHub"></a>`:""}\n                            ${t.links&&t.links.length>0?t.links.map((e=>`<a href="${e.url}" class="external-link" target="_blank" aria-label="${e.description}">🔗 ${e.description}</a>`)).join(""):""}\n                        </div>\n                    </div>\n                    <div class="note-content">\n                        ${this.noteService.parseMarkdown(t.content)}\n                    </div>\n                    <div class="note-navigation">\n                        ${(()=>{const e=this.noteService.getAdjacentNotes(t);return`\n                            ${e.previous?`\n                              <a href="/${this.noteService.getUrlFromNote(e.previous)}" class="nav-link prev" data-link>\n                                <span class="nav-label">← Previous</span>\n                                <span class="nav-title">${e.previous.title}</span>\n                              </a>\n                            `:""}\n                            ${e.next?`\n                              <a href="/${this.noteService.getUrlFromNote(e.next)}" class="nav-link next" data-link>\n                                <span class="nav-label">Next →</span>\n                                <span class="nav-title">${e.next.title}</span>\n                              </a>\n                            `:""}\n                          `})()} \n                    </div>\n                    \x3c!-- begin wwww.htmlcommentbox.com --\x3e\n                    <div id="HCB_comment_box" style="margin-top: 3rem;"></div>\n                    <link rel="stylesheet" type="text/css" href="https://www.htmlcommentbox.com/static/skins/bootstrap/twitter-bootstrap.css?v=0" />\n                    \x3c!-- end www.htmlcommentbox.com --\x3e\n                    <button class="back-to-top" aria-label="Back to top">↑</button>\n                `,this.setupTableOfContents(e),this.setupScrollListeners(e);const r=document.createElement("script");r.type="text/javascript",r.id="hcb";const i=window.location.toString().replace(/'/g,"%27");r.src=`https://www.htmlcommentbox.com/jread?page=${encodeURIComponent(i).replace("+","%2B")}&mod=%241%24wq1rdBcg%24KJMmEL71byVY1j2LJQUns0&opts=17310&num=10&ts=${Date.now()}`,r.onload=()=>{console.log("[HCB Debug] Comment box script loaded successfully"),document.querySelector("#HCB_comment_box")&&this.setupTableOfContents(e)},r.onerror=e=>{console.error("[HCB Debug] Error loading comment box script:",e)},document.head.appendChild(r),window.copyNoteLink=e=>{const t=this.noteService.getNoteById(e);if(t){const e=this.noteService.getUrlFromNote(t),n=window.location.origin+"/"+e;navigator.clipboard.writeText(n).then((()=>{const e=document.querySelector(".copy-link-btn");if(e){const t=e.textContent||"Copy Link";e.textContent="Copied!",setTimeout((()=>{e.textContent=t}),2e3)}})).catch((e=>console.error("Failed to copy:",e)))}}}return e}catch(t){console.error("Error loading note:",t);const n=e.querySelector("#note-content");return n&&(n.innerHTML="\n                    <h1>Error Loading Note</h1>\n                    <p>There was an error loading the note content. Please try again later.</p>\n                "),e}}extractHeadings(){console.log("[TOC Debug] Starting heading extraction");const e=[],t=document.querySelector(".note-header-top h1");if(t){const n=t.textContent||"",r=n.toLowerCase().replace(/[^\w]+/g,"-");t.id=r,e.push({level:1,text:n,id:r}),console.log(`[TOC Debug] Added note title: ${n}`)}const n=document.querySelector(".note-content");if(!n)return console.log("[TOC Debug] Note content element not found"),e;const r=n.querySelectorAll("h1, h2, h3, h4, h5, h6");return console.log(`[TOC Debug] Found ${r.length} heading elements`),r.forEach((t=>{const n=parseInt(t.tagName[1]),r=t.textContent||"",i=r.toLowerCase().replace(/[^\w]+/g,"-");t.id=i,e.push({level:n,text:r,id:i}),console.log(`[TOC Debug] Processed heading: Level ${n}, Text: "${r}", ID: ${i}`)})),document.querySelector("#HCB_comment_box")&&(e.push({level:1,text:"Comments",id:"HCB_comment_box"}),console.log("[TOC Debug] Added Comments section to TOC")),e}createTableOfContents(e){const t=document.createElement("div");t.classList.add("table-of-contents"),t.innerHTML="<h2>On This Page</h2>";const n=document.createElement("ul");n.classList.add("toc-list");let r=1,i=n,o=[n];return e.forEach((({level:e,text:t,id:n})=>{for(;e>r;){const e=document.createElement("ul");i.lastElementChild?.appendChild(e),o.push(e),i=e,r++}for(;e<r;)o.pop(),i=o[o.length-1],r--;const a=document.createElement("li");a.innerHTML=`<a href="#${n}" class="toc-link">${t}</a>`,i.appendChild(a)})),t.appendChild(n),t}setupTableOfContents(e){console.log("[TOC Debug] Starting TOC setup"),setTimeout((()=>{const t=this.extractHeadings();if(console.log("[TOC Debug] Extracted headings:",t),0===t.length)return void console.log("[TOC Debug] No headings found, skipping TOC creation");const n=this.createTableOfContents(t);console.log("[TOC Debug] Created TOC element:",n.innerHTML);const r=e.querySelector(".container.with-toc");if(!r)return void console.log("[TOC Debug] Container with class .container.with-toc not found");const i=r.querySelector("#note-content");i?(r.insertBefore(n,i),console.log("[TOC Debug] Successfully inserted TOC into DOM")):console.log("[TOC Debug] Note content element not found for TOC insertion"),n.querySelectorAll(".toc-link").forEach((e=>{const t=e.getAttribute("href")?.slice(1);if(t){const n=document.getElementById(t);n&&e.addEventListener("click",(e=>{e.preventDefault(),n.scrollIntoView({behavior:"smooth",block:"center"})}))}}));const o=new IntersectionObserver((e=>{const t=e.filter((e=>e.isIntersecting));if(0===t.length)return;const r=t.sort(((e,t)=>Math.abs(e.boundingClientRect.top)-Math.abs(t.boundingClientRect.top)))[0];window.lastScrollY=window.scrollY,n.querySelectorAll(".toc-link").forEach((e=>{const t=e.getAttribute("href")?.slice(1);if(t)if(r&&r.target.id===t){e.classList.add("active");const t=n,r=e.getBoundingClientRect(),i=t.getBoundingClientRect();r.bottom>i.bottom?t.scrollTo({top:t.scrollTop+(r.bottom-i.bottom)+this.scrollVal,behavior:"smooth"}):r.top<i.top&&t.scrollTo({top:t.scrollTop-(i.top-r.top)-this.scrollVal,behavior:"smooth"})}else e.classList.remove("active")}))}),{rootMargin:"-10% 0px -10% 0px",threshold:[.5]});t.forEach((({id:e})=>{const t=document.getElementById(e);t&&(t.tagName.match(/^H[1-6]$/)||"HCB_comment_box"===e)&&o.observe(t)}))}),100)}setupScrollListeners(e){const t=e.querySelector(".back-to-top"),n=e.querySelector(".back-to-notes.floating"),r=e.querySelector(".back-to-notes:not(.floating)");if(t&&(window.addEventListener("scroll",(()=>{window.scrollY>this.scrollVal?(t.classList.add("visible"),t.style.opacity="1",t.style.visibility="visible"):(t.classList.remove("visible"),t.style.opacity="0",t.style.visibility="hidden")})),t.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))),n&&r){const e=r.getBoundingClientRect().top+this.scrollVal;window.addEventListener("scroll",(()=>{window.scrollY>e?n.classList.add("visible"):n.classList.remove("visible")}))}}}class Kn extends e{constructor(e){super(e),Object.defineProperty(this,"noteService",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"selectedTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.noteService=P.getInstance(),this.selectedTags=e.tag?e.tag.split("+"):[]}createNoteCard(e){const t=document.createElement("div");return t.classList.add("note-card"),t.innerHTML=`\n            <h2><a href="/${this.noteService.getUrlFromNote(e)}" class="note-link" data-link>${e.title}</a></h2>\n            <div class="note-meta">\n                <div class="meta-top">\n                    <span class="reading-time">⌛ ${e.readingTime}</span>\n                    <span class="publish-date">🗓️ ${e.publishDate}</span>\n                    ${e.githubLink?`<a href="${e.githubLink}" class="github-link" target="_blank" aria-label="View on GitHub"></a>`:""}\n                    ${e.links&&e.links.length>0?e.links.map((e=>`<a href="${e.url}" class="external-link" target="_blank" aria-label="${e.description}">🔗 ${e.description}</a>`)).join(""):""}\n                </div>\n                <div class="note-tags">\n                    ${e.tags.map((e=>`<span class="tag ${this.selectedTags.includes(e)?"active":""}" data-tag="${e}">${e}</span>`)).join("")}\n                </div>\n            </div>\n        `,t}async render(){const e=document.createElement("div");e.classList.add("tag-page");const t=await this.noteService.getNotesByTags(this.selectedTags);e.innerHTML=`\n            <div class="container">\n                <a href="/notes" class="back-to-notes floating visible" data-link>← Back to all notes</a>\n                <h1>Notes tagged with ${this.selectedTags.map((e=>`"${e}"`)).join(" + ")}</h1>\n                <div class="tag-cloud-container">\n                  <div class="loading">Loading tags...</div>\n                </div>\n                <div class="notes-grid"></div>\n                <button class="back-to-top" aria-label="Back to top">↑</button>\n            </div>\n        `;const n=e.querySelector(".notes-grid");t.forEach((t=>{const r=this.createNoteCard(t);r.querySelectorAll(".tag").forEach((t=>{t.addEventListener("click",(n=>{n.preventDefault();const r=t.getAttribute("data-tag");this.selectedTags.includes(r)?this.selectedTags=this.selectedTags.filter((e=>e!==r)):this.selectedTags.push(r);const i=this.selectedTags.length>0?`/tag/${this.selectedTags.join("+")}`:"/notes";history.pushState(null,"",i),this.render().then((t=>{e.replaceWith(t)}))}))})),n.appendChild(r)}));const r=e.querySelector(".back-to-top");return r&&(window.addEventListener("scroll",(()=>{window.scrollY>300?r.classList.add("visible"):r.classList.remove("visible")})),r.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))),setTimeout((async()=>{try{const t=e.querySelector(".tag-cloud-container");if(t){const e=await this.noteService.getTagFrequencies(),n=new Wn(t,t.clientWidth,200,(e=>{window.location.href=`/tag/${e}`}));await n.render(e)}}catch(t){console.error("Error setting up tag cloud:",t);const n=e.querySelector(".tag-cloud-container");n&&(n.innerHTML='<div class="error">Failed to load tags</div>')}}),0),e}}var er=n(907);(new class{constructor(){Object.defineProperty(this,"router",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"analyticsService",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.router=new t([{path:"/",view:r},{path:"/notes",view:Jn},{path:"/note/:bloglink",view:Gn},{path:"/tag/:tag",view:Kn}]),function(){const e=document.querySelector(".theme-toggle"),t=window.matchMedia("(prefers-color-scheme: dark)"),n=localStorage.getItem("theme");n?document.body.dataset.theme=n:t.matches&&(document.body.dataset.theme="dark"),e.addEventListener("click",(()=>{const e="dark"===document.body.dataset.theme;document.body.dataset.theme=e?"light":"dark",localStorage.setItem("theme",e?"light":"dark")})),t.addEventListener("change",(e=>{localStorage.getItem("theme")||(document.body.dataset.theme=e.matches?"dark":"light")}))}(),this.analyticsService=er.AnalyticsService.getInstance(),this.analyticsService.initialize("G-F7905RKS0D")}init(){window.addEventListener("popstate",(async()=>{await this.router.route()})),document.addEventListener("DOMContentLoaded",(async()=>{document.body.addEventListener("click",(async e=>{if(e.target instanceof HTMLElement){const t=e.target.closest("[data-link]");t instanceof HTMLAnchorElement&&(e.preventDefault(),history.pushState(null,"",t.href),await this.router.route())}})),await this.router.route()}))}}).init()})()})();